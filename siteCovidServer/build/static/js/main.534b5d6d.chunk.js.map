{"version":3,"sources":["core/workWithServer.js","components/Button.js","redux/actions/actions.js","redux/actions/actionsType.js","components/Login.js","components/Header.js","components/ListOfPerson.js","components/MakeReport.js","components/SeeReport.js","components/ListForEntering.js","components/Loader.js","components/Modal.js","components/MainPageForCenter.js","components/ListOfPost.js","components/Home.js","App.js","redux/reducers/user.js","redux/rootReducer.js","index.js","documentation.docx","doc_control.docx"],"names":["workWithServer","initUser","requestPost","login","data","logOut","changePassword","getListOfCity","getListOfPerson","setListOfPerson","getListOfStatus","setListOfReport","setOneReport","getListOfReport","getExtraFieldsForStatus","getListOfRank","getListOfGroup","getListOfPost","setListOfPost","status","response","Promise","resolve","json","reject","Error","statusText","request","url","body","a","trackPromise","fetch","then","headers","csrfmiddlewaretoken","getCookie","credentials","method","mode","JSON","stringify","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","Button","icon","type","text","onClick","className","disabled","classNameText","classes","push","join","InputForDatePicker","props","value","readOnly","user","connect","dispatch","useState","setName","validName","setValidName","password","setPassword","validPassword","setValidPassword","onSubmit","e","preventDefault","length","is_initial","catch","htmlFor","id","placeholder","onChange","target","state","headerRef","setChangePassword","SetPassword","href_to_doc","is_control","doc_control","doc","ref","username","group","href","ListOfPerson","setShowBody","toggleCleared","setToggleCleared","idNewRow","setIdNewRow","listWithCity","setListWithCity","listWithRank","setListWithRank","listOfPerson","listOfGroup","setListOfGroup","listOfPost","searchByName","setSearchByName","selectedRows","refIs_military","createRef","refGroup_id","refPost_id","refRank_id","refName","refCity_id","refIs_woman_with_children","useEffect","filter","el","is_editable","map","current","is_military","toString","Number","group_id","rank_id","post_id","city_id","is_woman_with_children","filterListOfPeople","toLowerCase","indexOf","columns","selector","sortable","cell","row","index","key","prev","actions","prevState","contextActions","idOfRows","title","selectableRows","pagination","onSelectedRowsChange","contextMessage","singular","plural","message","clearSelectedRows","paginationComponentOptions","rowsPerPageText","rangeSeparatorText","noRowsPerPage","selectAllRowsItem","selectAllRowsItemText","paginationPerPage","paginationRowsPerPageOptions","MakeReport","Date","startDate","setStartDate","refStatus","refComment","listStatus","setListStatus","dataByday","obj","userForControl_id","elem","status_id","setTimeout","comment","selected","date","dateFormat","customInput","toLocaleString","makeTableData","mass","style","width","group_id__name","rank_id__name","extraFields","dict","makeTableHeader","filterBlock","SeeReport","printRef","listOfCity","setListOfCity","onWorkAll","onWorkMilitary","onWorkPeople","onWorkMilitaryWithChildren","onWorkPeopleWithChildren","withDisease","onRemoteWork","status_id__name","withNoInfectionAmb","withNoInfectionStat","withPnevmoniaAmb","withPnevmoniaStat","withRespiratornoAmb","withRespiratornoStat","withKarantin","with65","withCovidAmb","withCovidStat","classList","add","window","print","remove","marginLeft","rowSpan","colSpan","block","count","i","repeatBlock","withCovid","person","withPnevmania","withOrv","withOther","karantin","format","ListForEntering","dateToday","setDate","getDate","tomorrow","find","getDay","toLocaleDateString","byGroup","chunk_size","Math","ceil","groups","slice","mass1","mass2","mass3","mass4","console","log","pageBreakAfter","mass2elem","mass3elem","mass4elem","Loader","usePromiseTracker","promiseInProgress","MyModal","show","showModal","children","CSSTransition","in","timeout","unmountOnExit","classNames","role","aria-modal","aria-labelledby","MainPageForCenter","curr","firstDay","getFullYear","getMonth","lastDay","currDate","setCurrDate","endDate","setEndDate","massWithDate","setMassWithDate","endDateForModal","setEndDateForModal","listOfReport","setShow","personModal","setPersonModal","objectModal","setObjectModal","extraStatus","setExtraStatus","setExtraFields","showExtraFields","setShowExtraFields","showError","setShowError","workWithStatus","extrafields","children_status","parent_id","with_extraField","workWithExtraFields","extra_status_id","Object","keys","tempMassWithDate","currentDate","setMonth","clsx","listReportByPerson","modal","t","onKeyPress","event","which","setHours","isClearable","placeholderText","minDate","test_date","moment","toDate","test","test_result_date","test_result","month","day","String","ListOfPost","refPosition","position","showBody","mainButton","mainButtonForControl","bodyForControl","bodyForCentre","initialState","combineReducers","action","store","createStore","rootReducer","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.534b5d6d.chunk.js","sourcesContent":["import {trackPromise} from \"react-promise-tracker\";\n\nconst workWithServer = () => {\n  return {\n    initUser: () => {\n      return requestPost('/initUser/')\n    },\n    login: (data) => {\n      return requestPost('/login/', data)\n    },\n    logOut: () => {\n      return requestPost('/logout/',)\n    },\n    changePassword: (data) => {\n      return requestPost('/changePassword/', data)\n    },\n    getListOfCity: () => {\n      return requestPost('/getListOfCity/',)\n    },\n    getListOfPerson: () => {\n      return requestPost('/getListOfPerson/',)\n    },\n    setListOfPerson: (data) => {\n      return requestPost('/setListOfPerson/', data)\n    },\n    getListOfStatus: () => {\n      return requestPost('/getListOfStatus/')\n    },\n    setListOfReport: (data) => {\n      return requestPost('/setListOfReport/', data)\n    },\n    setOneReport: (data) => {\n      return requestPost('/setOneReport/', data)\n    },\n    getListOfReport: (data) => {\n      return requestPost('/getListOfReport/', data)\n    },\n    getExtraFieldsForStatus: (data) => {\n      return requestPost('/getExtraFieldsForStatus/', data)\n    },\n    getListOfRank: (data) => {\n      return requestPost('/getListOfRank/', data)\n    },\n    getListOfGroup: (data) => {\n      return requestPost('/getListOfGroup/', data)\n    },\n    getListOfPost: () => {\n      return requestPost('/getListOfPost/')\n    },\n    setListOfPost: (data) => {\n      return requestPost('/setListOfPost/', data)\n    },\n  }\n};\n\nexport default workWithServer()\n\nfunction status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response.json())\n  } else {\n    return Promise.reject(new Error(response.statusText))\n  }\n}\n\nasync function request(url, body) {\n  return await trackPromise(fetch(url, body).then(status));\n}\n\nasync function requestPost(url, data) {\n  const headers = {\n    'Accept': 'application/json, text/plain, */*',\n    \"Content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n    'X-Requested-With': 'XMLHttpRequest',\n  };\n  let csrfmiddlewaretoken = getCookie('csrftoken');\n  csrfmiddlewaretoken && (headers['X-CSRFToken'] = csrfmiddlewaretoken);\n  return await request(url, {\n    credentials: 'include',\n    method: 'POST',\n    mode: 'same-origin',\n    headers: headers,\n    body: JSON.stringify(data)\n  })\n}\n\nfunction getCookie(name) {\n  let matches = document.cookie.match(new RegExp(\n    \"(?:^|; )\" + name.replace(/([.$?*|{}()[]\\/+^])/g, '\\\\$1') + \"=([^;]*)\"\n  ));\n  return matches ? decodeURIComponent(matches[1]) : undefined\n}\n\nconst setCookie = (name, value, props = {'Path': '/', maxAge: 1800}) => {\n  let exp = props.expires;\n  if (typeof exp == \"number\" && exp) {\n    let d = new Date();\n    d.setTime(d.getTime() + exp * 1000)\n    exp = props.expires = d\n  }\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString()\n  }\n\n  value = encodeURIComponent(value)\n  let updatedCookie = name + \"=\" + value\n\n  for (let propName in props) {\n    updatedCookie += \"; \" + propName\n    let propValue = props[propName]\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue\n    }\n  }\n\n  document.cookie = updatedCookie\n}\n\nexport {setCookie}","import React from 'react'\nimport PropTypes from \"prop-types\";\n\nButton.propTypes = {\n  icon: PropTypes.string,\n  type: PropTypes.string,\n  text: PropTypes.string,\n  className: PropTypes.string,\n  classNameText: PropTypes.string,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool\n}\n\nexport default function Button({icon, type, text, onClick, className, disabled, classNameText}) {\n  const classes = [\n    'rounded-md px-2 py-1 m-2 place-content-center focus:outline-none '\n  ];\n\n  classes.push(className);\n\n  if (type === 'primary') {\n    classes.push('text-white bg-blue-500 bg-opacity-75 hover:bg-opacity-100')\n  } else if (type === 'success') {\n    classes.push('text-white bg-green-600')\n  } else if (type === 'secondary') {\n    classes.push('text-white bg-gray-600')\n  } else if (type === 'danger') {\n    classes.push('text-white bg-red-600')\n  } else if (type === 'warning') {\n    classes.push('text-white bg-yellow-600')\n  }\n\n  return (\n    <button className={classes.join(' ')} onClick={onClick} disabled={disabled}>\n      {icon ? <i className=\"material-icons mx-1 float-left\">{icon}</i> : ''}\n      <span className={\"my-auto \" + classNameText}>{text}</span>\n    </button>\n  )\n}\n\n\nconst InputForDatePicker = (props) => {\n  return (\n    <input\n      className=\"rounded border border-blue-700 p-1 mr-2\"\n      onClick={props.onClick}\n      value={props.value}\n      type=\"text\"\n      readOnly={true}\n    />\n  )\n};\n\nexport {\n  InputForDatePicker\n}","import {InitUser} from \"./actionsType\";\n\nexport function initUser(user) {\n  return {\n    type: InitUser,\n    user\n  }\n}","export const InitUser = 'InitUser'\nexport const LoginUser = 'LoginUser'","import React, {useState} from \"react\"\nimport PropTypes from \"prop-types\";\nimport workWithServer from \"../core/workWithServer\";\nimport Button from \"./Button\";\nimport {initUser} from \"../redux/actions/actions\";\nimport {connect} from \"react-redux\";\n\nfunction Login({initUser}) {\n  const [name, setName] = useState('');\n  const [validName, setValidName] = useState(true);\n  const [password, setPassword] = useState('');\n  const [validPassword, setValidPassword] = useState(true);\n\n  const login = (e) => {\n    e.preventDefault()\n    const validName = name.length > 0\n    const validPassword = password.length > 0\n    setValidName(validName)\n    setValidPassword(validPassword)\n\n    if (setValidName && validPassword) {\n      workWithServer.login({\n        \"username\": name,\n        \"password\": password\n      }).then((data) => {\n        data['error'] ? setValidName(false) :\n        initUser({...data, is_initial: true})\n      })\n        .catch(() => {setValidName(false)})\n    }\n\n  }\n  return (\n    <div className=\"mt-40\">\n      <p className=\"text-3xl mx-auto text-center\"> Пройдите авторизацию в системе</p>\n      <form className=\"pt-4 w-1/2 mx-auto\" onSubmit={login}>\n        <div className=\"mb-2\">\n          <label className=\"block mb-1\" htmlFor=\"name\">\n            Имя\n          </label>\n          <input\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:border-blue-600\"\n            id=\"email\"\n            type=\"text\"\n            placeholder=\"Введите имя\"\n            value={name}\n            onChange={(e) => {\n              setName(e.target.value);\n              setValidName(true)\n            }}\n          />\n          {!validName && <label className=\"text-xs text-red-400 pl-2\">Пользователя не существует</label>}\n        </div>\n\n        <div className=\"mb-2\">\n          <label className=\"block mb-1\" htmlFor=\"password\">\n            Пароль\n          </label>\n          <input\n            className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:border-blue-600\"\n            id=\"password\"\n            type=\"password\"\n            placeholder=\"Введите пароль\"\n            onChange={(e) => {\n              setPassword(e.target.value);\n              setValidPassword(true)\n            }}\n          />\n          {!validPassword && <label className=\"text-xs text-red-400 pl-2\">Некорректный пароль</label>}\n        </div>\n\n        <div className=\"mb-2 text-center\">\n          <Button text=\"Войти в аккаунт\" type=\"primary\"/>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    initUser: user => dispatch(initUser(user))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(Login)\nLogin.propTypes = {\n  loginUser: PropTypes.func,\n};\n","import React, {useState} from \"react\";\nimport Button from \"./Button\";\nimport workWithServer from \"../core/workWithServer\";\nimport {initUser} from \"../redux/actions/actions\";\nimport {connect} from \"react-redux\";\nimport doc from '../documentation.docx'\nimport doc_control from '../doc_control.docx'\n\nfunction Header({user, initUser, headerRef}) {\n  const [changePassword, setChangePassword] = useState(false);\n  const [password, SetPassword] = useState('');\n  const logOut = () => {\n    workWithServer.logOut().then(() => initUser({...user, username: ''}))\n  };\n\n  const href_to_doc = user.is_control ? doc_control : doc;\n\n  return (\n    <>\n      <div ref={headerRef} className=\"p-3 border-b flex justify-between\">\n        <div className=\"flex\">\n          <span className=\"my-auto p-2 border rounded border-blue-600\">{user.username} - {user.group}</span>\n          <a href={href_to_doc} className=\"my-auto p-2 no-underline hover:underline text-blue-500\">Документация</a>\n        </div>\n        <div>\n          {!user.is_control && (!changePassword\n            ? <Button className=\"\" type='warning' onClick={() => {\n              setChangePassword(true)\n            }} text=\"Сменить пароль\"/>\n            : (\n              <>\n                <input type=\"text\" className=\"rounded border border-blue-700 p-1\" value={password} onChange={e => {\n                  SetPassword(e.target.value)\n                }}\n                       placeholder=\"Введите новый пароль...\"/>\n                <Button type='warning' onClick={() => {\n                  setChangePassword(false);\n                  workWithServer.changePassword({'password': password}).then(() => {\n                    initUser({...user, username: ''})\n                  });\n                }} text=\"Сохранить пароль\"/>\n              </>\n            ))\n          }\n          <Button className=\"\" type='primary' onClick={logOut} text=\"Выйти\"/>\n        </div>\n      </div>\n    </>\n  )\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    initUser: user => dispatch(initUser(user))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React, {createRef, useEffect, useState} from \"react\";\nimport Button from \"./Button\";\nimport DataTable from 'react-data-table-component';\nimport workWithServer from \"../core/workWithServer\";\n\nexport default function ListOfPerson({setShowBody}) {\n  const [toggleCleared, setToggleCleared] = useState(false);\n  const [idNewRow, setIdNewRow] = useState(-1);\n\n  const [listWithCity, setListWithCity] = useState([]);\n  const [listWithRank, setListWithRank] = useState([]);\n  const [listOfPerson, setListOfPerson] = useState([]);\n  const [listOfGroup, setListOfGroup] = useState([]);\n  const [listOfPost, setListOfPost] = useState([]);\n\n  const [searchByName, setSearchByName] = useState('');\n\n  let selectedRows = [];\n\n  let refIs_military = createRef();\n  let refGroup_id = createRef();\n  let refPost_id = createRef();\n  let refRank_id = createRef();\n  let refName = createRef();\n  let refCity_id = createRef();\n  let refIs_woman_with_children = createRef();\n\n  useEffect(() => {\n    workWithServer.getListOfCity().then(setListWithCity);\n    workWithServer.getListOfPerson().then(setListOfPerson);\n    workWithServer.getListOfRank().then(setListWithRank);\n    workWithServer.getListOfGroup().then(setListOfGroup);\n    workWithServer.getListOfPost().then(setListOfPost);\n  }, []);\n\n  useEffect(() => {\n    listOfPerson.filter(el => el.is_editable).map(el => {\n      refIs_military.current.value = el.is_military.toString();\n      refGroup_id.current.value = Number(el.group_id);\n      refRank_id.current.value = Number(el.rank_id);\n      refPost_id.current.value = Number(el.post_id);\n      refName.current.value = el.name;\n      refCity_id.current.value = Number(el.city_id);\n      refIs_woman_with_children.current.value = el.is_woman_with_children.toString()\n    })\n  }, [listOfPerson]);\n\n  const filterListOfPeople = listOfPerson.filter(el => el.name.toLowerCase().indexOf(searchByName.toLowerCase()) > -1);\n\n  const columns = [\n    {\n      name: '№',\n      selector: 'id',\n      sortable: true,\n      cell: (row, index) => {\n        return <div>{index + 1}</div>;\n      },\n    },\n    {\n      name: 'Подразделение',\n      selector: 'group_id',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <select ref={refGroup_id} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            {listOfGroup.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\n          </select>\n          : <div>{(listOfGroup.filter(el => el.id === Number(row.group_id))).map(el => el.name)}</div>;\n      },\n    },\n    {\n      name: 'Должность',\n      selector: 'post_id',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <select ref={refPost_id} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            {listOfPost.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\n          </select>\n          : <div>{(listOfPost.filter(el => el.id === Number(row.post_id))).map(el => el.name)}</div>;\n      },\n    },\n    {\n      name: 'Военнослужащий или гр. персонал',\n      selector: 'is_military',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ?\n          <select ref={refIs_military} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            <option value={true}>Военнослужащий</option>\n            <option value={false}>Гр. персонал</option>\n          </select>\n          : <div>{row.is_military ? \"Военнослужащий\" : \"Гр. персонал\"}</div>;\n      },\n    },\n    {\n      name: 'Воинское звание',\n      selector: 'rank_id',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <select ref={refRank_id} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            <option value=\"\">Сбросить воинское звание</option>\n            {listWithRank.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\n          </select>\n          : <div>{(listWithRank.filter(el => el.id === Number(row.rank_id))).map(el => el.name)}</div>;\n      },\n    },\n    {\n      name: 'ФИО',\n      selector: 'name',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <input ref={refName} className=\"w-full h-full border-b border-blue-700 bg-white\"/>\n          : <div>{row.name}</div>;\n      },\n    },\n    {\n      name: 'Город',\n      selector: 'city_id',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <select ref={refCity_id} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            {listWithCity.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\n          </select>\n          : <div>{(listWithCity.filter(el => el.id === Number(row.city_id))).map(el => el.name)}</div>;\n      },\n    },\n    {\n      name: 'Является ли женщиной с детьми до 14 лет?',\n      selector: 'is_woman_with_children',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <select ref={refIs_woman_with_children} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            <option value={true}>Да</option>\n            <option value={false}>Нет</option>\n          </select>\n          : <div>{row.is_woman_with_children ? \"Да\" : \"Нет\"}</div>;\n      },\n    },\n    {\n      name: 'Изменить',\n      selector: 'edit',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <Button type=\"warning\" text=\"Применить\" onClick={() => {\n            setListOfPerson(prev => prev.map(el => {\n              if (el.id === row.id) {\n                el.is_editable = false;\n                el.is_military = refIs_military.current.value === 'true';\n                el.rank_id = refRank_id.current.value;\n                el.name = refName.current.value;\n                el.group_id = refGroup_id.current.value;\n                el.post_id = refPost_id.current.value;\n                el.city_id = refCity_id.current.value;\n                el.is_woman_with_children = refIs_woman_with_children.current.value === 'true'\n              }\n              return el\n            }))\n          }}/>\n          : <Button type=\"warning\" text=\"Изменить\" onClick={() => {\n            setListOfPerson(prev => prev.map(el => {\n              el.is_editable = el.id === row.id;\n              return el\n            }))\n          }}/>\n      },\n    },\n  ];\n\n  const selectedRow = (state) => {\n    selectedRows = state.selectedRows\n  };\n\n  const actions = (\n    <>\n      <input className=\"bg-white rounded border border-blue-600 outline-none text-base p-1\"\n             placeholder=\"поиск по имени...\" value={searchByName}\n             onChange={e => setSearchByName(e.target.value)}/>\n      <Button className=\"text-base\" type=\"primary\" text=\"Добавить\" onClick={() => {\n        setListOfPerson([{\n          id: idNewRow,\n          is_military: true,\n          name: '',\n          group_id: '',\n          post_id: '',\n          is_woman_with_children: false,\n          is_editable: true\n        }, ...listOfPerson.map((el => {\n          el.is_editable = false;\n          return el\n        }))]);\n        setIdNewRow(prevState => prevState - 1)\n      }}/>\n    </>);\n\n  const contextActions = <Button className=\"text-base\" type=\"danger\" text=\"Удалить\" onClick={() => {\n    const idOfRows = selectedRows.map((el) => el.id);\n    setListOfPerson(listOfPerson.filter((el) => idOfRows.indexOf(el.id) === -1));\n    setToggleCleared(!toggleCleared)\n  }}/>;\n\n\n  return (\n    <div>\n      <div>\n        <Button className=\"\" type='primary' text=\"Назад\" onClick={() => {\n          setShowBody('nothing')\n        }}/>\n        <Button className=\"\" type='success' text=\"Сохранить\" onClick={() => {\n          workWithServer.setListOfPerson({'data': listOfPerson}).then(() => setShowBody('nothing'))\n        }}/>\n      </div>\n      <DataTable\n        title=\"Управление личным составом центра\"\n        columns={columns}\n        selectableRows\n        data={filterListOfPeople}\n        pagination={true}\n        onSelectedRowsChange={selectedRow}\n        contextMessage={{singular: 'строка', plural: 'строк', message: ''}}\n        contextActions={contextActions}\n        actions={actions}\n        clearSelectedRows={toggleCleared}\n        paginationComponentOptions={{\n          rowsPerPageText: 'Строк на странице:',\n          rangeSeparatorText: 'из',\n          noRowsPerPage: false,\n          selectAllRowsItem: false,\n          selectAllRowsItemText: 'Все'\n        }}\n        paginationPerPage={100}\n        paginationRowsPerPageOptions={[25, 50, 100]}\n      />\n    </div>\n  )\n}\n\n","import React, {createRef, useEffect, useState} from \"react\";\nimport workWithServer from \"../core/workWithServer\";\nimport Button, {InputForDatePicker} from \"./Button\";\nimport DataTable from \"react-data-table-component\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nfunction MakeReport({setShowBody}) {\n  const [startDate, setStartDate] = useState(new Date());\n\n  const refStatus = createRef();\n  const refComment = createRef();\n\n  const [listStatus, setListStatus] = useState([]);\n  const [listOfPerson, setListOfPerson] = useState([]);\n\n  const [searchByName, setSearchByName] = useState('');\n\n  const filterListOfPeople = listOfPerson.filter(el => el.name.indexOf(searchByName) > -1);\n\n  const dataByday = () => {\n    workWithServer.getListOfReport({'date': startDate}).then(data => {\n      setListOfPerson(prevState => {\n        return [...prevState.map(el => {\n          let index = data.filter(obj => obj.userForControl_id === el.id);\n          if (index.length > 0) return {...el, ...index[0]};\n          delete el['comment'];\n          delete el['status_id'];\n          return el\n        })]\n      })\n    })\n  };\n\n  useEffect(() => {\n    workWithServer.getListOfPerson().then((data) => {\n      setListOfPerson(data);\n      dataByday();\n    });\n    workWithServer.getListOfStatus().then(setListStatus);\n  }, []);\n\n  const columns = [\n    {\n      name: '№',\n      selector: 'id',\n      sortable: true,\n      cell: (row, index) => {\n        return <div>{index + 1}</div>;\n      },\n    },\n    {\n      name: 'Воинское звание',\n      selector: 'rank_id__name',\n      sortable: true,\n    },\n    {\n      name: 'ФИО',\n      selector: 'name',\n      sortable: true,\n    },\n    {\n      name: 'Статус',\n      selector: ' status_id',\n      sortable: true,\n      cell: row => {\n        const elem = row.is_editable\n          ? <select ref={refStatus} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            <option key={-1} value=\"-1\">Сбросить статус</option>\n            {listStatus.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\n          </select>\n          : <div>{(listStatus.filter(el => el.id === Number(row.status_id))).map(el => el.name)}</div>\n        if (row.is_editable && row.status_id) setTimeout(() => refStatus.current.value = row.status_id, 200)\n        return elem\n      },\n    },\n    {\n      name: 'Комментарий',\n      selector: 'comment',\n      sortable: true,\n      cell: row => {\n        const elem = row.is_editable\n          ? <input ref={refComment} className=\"w-full h-full border-b border-blue-700 bg-white\"/>\n          : <div>{row.comment}</div>;\n        if (row.is_editable) setTimeout(() => refComment.current.value = row.comment ? row.comment : '', 200)\n        return elem\n      },\n    },\n    {\n      name: 'Изменить',\n      selector: 'edit',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <Button type=\"warning\" text=\"Применить\" onClick={() => {\n            setListOfPerson(prev => prev.map(el => {\n              if (el.id === row.id) {\n                el.is_editable = false;\n                el.comment = refComment.current.value;\n                el.status_id = refStatus.current.value\n              }\n              return el\n            }))\n          }}/>\n          : <Button type=\"warning\" text=\"Изменить\" onClick={() => {\n            setListOfPerson(prev => prev.map(el => {\n              el.is_editable = el.id === row.id;\n              return el\n            }))\n          }}/>\n      },\n    },\n  ];\n\n  const actions = (\n    <>\n      <input  className=\"bg-white rounded border border-blue-600 outline-none text-base p-1\" placeholder=\"поиск по имени...\" value={searchByName}\n              onChange={e => setSearchByName(e.target.value)}/>\n    </>);\n  return (\n    <div>\n      <div>\n        <Button className=\"\" type='primary' text=\"Назад\" onClick={() => {\n          setShowBody('nothing')\n        }}/>\n        <Button className=\"text-base\" type='success' text=\"Сохранить\" onClick={() => {\n          workWithServer.setListOfReport({\n              'data': listOfPerson,\n              'date': startDate\n            }\n          ).then(() => setShowBody('nothing'))\n        }}/>\n\n        <Button className=\"\" type='primary' text=\"Использовать данные за:\" onClick={() => {\n          dataByday();\n        }}/>\n\n        <DatePicker\n          className=\"rounded border border-blue-700 p-1\"\n          selected={startDate}\n          onChange={date => setStartDate(date)}\n          dateFormat=\"dd.MM.yyyy\"\n          customInput={<InputForDatePicker/>}\n        />\n      </div>\n      <DataTable\n        title={\"Сформировать отчет на \" + startDate.toLocaleString(\"ru\")}\n        columns={columns}\n        data={filterListOfPeople}\n        pagination={true}\n        contextMessage={{singular: 'строка', plural: 'строк', message: 'выбрано'}}\n        paginationComponentOptions = {{\n          rowsPerPageText: 'Строк на странице:',\n          rangeSeparatorText: 'из',\n          noRowsPerPage: false,\n          selectAllRowsItem: false,\n          selectAllRowsItemText: 'Все'\n        }}\n        actions={actions}\n        paginationPerPage={100}\n        paginationRowsPerPageOptions={[25,50,100]}\n      />\n    </div>\n  )\n}\n\nexport default MakeReport\n","import React, {createRef, useEffect, useState} from \"react\";\nimport Button, {InputForDatePicker} from \"./Button\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport workWithServer from \"../core/workWithServer\";\nimport Moment from \"react-moment\";\n\n\nfunction makeTableData(mass) {\n  return (\n    mass.length > 0\n      ? mass.map((el, index) => {\n        return (\n          <div className=\"flex break-words\">\n            <p className=\"border p-1 inline-block\" style={{width: \"5%\"}}>{index + 1}</p>\n            <p className=\"border p-1 inline-block\" style={{width: \"12%\"}}>{el.group_id__name}</p>\n            <p className=\"border p-1 inline-block\" style={{width: \"13%\"}}>{el.rank_id__name}</p>\n            <p className=\"border p-1 inline-block w-3/12\">{el.name}</p>\n            <p className=\"border p-1 inline-block w-6/12 text-left\">\n              {\n                !!el.extraFields && el.extraFields.map(dict => {\n                  return <>\n                    {!!dict['date'] ? <p className=\"font-bold\">{'Дата: ' + dict['date']}</p> : ''}\n                    {!!dict['t'] ? <p>{'Температура: ' + dict['t']}</p> : ''}\n                    {(!!dict['test'] || !!dict['test_date']) ?\n                      <p>\n                        {'Тест на Covid: ' + (!!dict['test'] ? dict['test'] : '') +\n                        (!!dict['test_date'] ? ' ' + dict['test_date'] : '')}\n                      </p> : ''}\n                    {(!!dict['test_result'] || !!dict['test_result_date']) ?\n                      <p>\n                        {'Результат теста на Covid: ' + (!!dict['test_result'] ? dict['test_result'] : '') +\n                        (!!dict['test_result_date'] ? ' ' + dict['test_result_date'] : '')}\n                      </p> : ''}\n                  </>\n                })\n              }\n              {el.comment}\n            </p>\n          </div>\n        )\n      })\n      : <p className=\"text-center border p-1\"> Отсутствуют</p>\n  )\n}\n\nfunction makeTableHeader() {\n  return (\n    <div className=\"flex break-words \">\n      <p className=\"border p-1 inline-block\" style={{width: \"5%\"}}> №</p>\n      <p className=\"border p-1 inline-block\" style={{width: \"12%\"}}> Подразделение</p>\n      <p className=\"border p-1 inline-block\" style={{width: \"13%\"}}> Воинское звание</p>\n      <p className=\"border p-1 inline-block w-3/12\"> Фамилия, инициалы</p>\n      <p className=\"border p-1 inline-block w-6/12\"> Комментарии</p>\n    </div>\n  )\n}\n\nfunction repeatBlock(block, count) {\n  const mass = [];\n  let i = 0;\n  while (i < count) {\n    mass.push(block);\n    i++\n  }\n  return <>\n    {mass}\n  </>\n}\n\nfunction filterBlock(mass) {\n  return <>\n    <td className=\"border p-1\">{mass.filter(el => el.is_military).length}</td>\n    <td className=\"border p-1\">{mass.filter(el => !el.is_military).length}</td>\n    <td className=\"border p-1\">{mass.length}</td>\n  </>\n}\n\nfunction SeeReport({user, setShowBody, headerRef}) {\n  const [startDate, setStartDate] = useState(new Date());\n  const printRef = createRef();\n\n  const [listOfPerson, setListOfPerson] = useState([]);\n  const [listOfCity, setListOfCity] = useState([]);\n  const [listOfGroup, setListOfGroup] = useState([]);\n  const getListOfReport = () => {\n    workWithServer.getListOfReport({'date': startDate, 'includeExtraFields': true}).then(data => {\n      setListOfPerson(prevState => prevState.map(el => {\n        let index = data.filter(obj => obj.userForControl_id === el.id);\n        if (index.length > 0) return {...el, ...index[0]};\n        delete el['comment'];\n        delete el['status_id'];\n        return el\n      }))\n    })\n  };\n\n  useEffect(() => {\n    workWithServer.getListOfPerson().then(data => {\n      setListOfPerson(data);\n      getListOfReport();\n    });\n    workWithServer.getListOfCity().then(setListOfCity);\n    workWithServer.getListOfGroup().then(setListOfGroup)\n  }, []);\n\n  useEffect(() => {\n    getListOfReport();\n  }, [startDate]);\n\n  const onWorkAll = listOfPerson.filter(el => !el.status_id);\n  const onWorkMilitary = onWorkAll.filter(el => el.is_military);\n  const onWorkPeople = onWorkAll.filter(el => el.is_military === false);\n  const onWorkMilitaryWithChildren = onWorkMilitary.filter(el => el.is_woman_with_children);\n  const onWorkPeopleWithChildren = onWorkPeople.filter(el => el.is_woman_with_children);\n\n  let withDisease = listOfPerson.filter(el => !!el.status_id);\n\n  const onRemoteWork = withDisease.filter(el => el.status_id__name === 'Удаленная работа');\n\n\n  const withNoInfectionAmb = withDisease.filter(el => el.status_id__name === 'Неинфекционное заболевание, амбулаторно');\n  const withNoInfectionStat = withDisease.filter(el => el.status_id__name === 'Неинфекционное заболевание, стационарно');\n\n  const withPnevmoniaAmb = withDisease.filter(el => el.status_id__name === 'Пневмония, амбулаторно');\n  const withPnevmoniaStat = withDisease.filter(el => el.status_id__name === 'Пневмония, стационарно');\n\n  const withRespiratornoAmb = withDisease.filter(el => el.status_id__name === 'Респираторное заболевание, амбулаторно');\n  const withRespiratornoStat = withDisease.filter(el => el.status_id__name === 'Респираторное заболевание, стационарно');\n\n  const withKarantin = withDisease.filter(el => el.status_id__name === 'Карантин');\n\n  const with65 = withDisease.filter(el => el.status_id__name === '65+');\n\n  const withCovidAmb = withDisease.filter(el => el.status_id__name === 'Коронавирус, амбулаторно');\n  const withCovidStat = withDisease.filter(el => el.status_id__name === 'Коронавирус, стационарно');\n\n  withDisease = [...withNoInfectionAmb, ...withNoInfectionStat, ...withPnevmoniaAmb, ...withPnevmoniaStat,\n    ...withRespiratornoAmb, ...withRespiratornoStat, ...withKarantin, ...withCovidAmb, ...withCovidStat];\n\n  return (\n    <>\n      <div ref={printRef}>\n        <Button className=\"\" type='primary' text=\"Назад\" onClick={() => {\n          setShowBody('nothing')\n        }}/>\n        <Button className=\"\" type='success' text=\"Распечатать\" onClick={() => {\n          printRef.current.classList.add('hidden');\n          headerRef.current.classList.add('hidden');\n          window.print();\n          printRef.current.classList.remove('hidden');\n          headerRef.current.classList.remove('hidden');\n        }}/>\n        {!user.is_control &&\n        <DatePicker\n          className=\"rounded border border-blue-700 p-1\"\n          selected={startDate}\n          onChange={setStartDate}\n          dateFormat=\"dd.MM.yyyy\"\n          customInput={<InputForDatePicker/>}\n        />\n        }\n      </div>\n\n      <div className=\"m-4\">\n        <div className=\"float-right\" style={{marginLeft: '100%'}}>\n          <p className=\"text-center p-1\">Начальник ФГКУ \"12 ЦНИИ\"<br/> Минобороны России</p>\n          <p className=\"text-right p-1\">_________________________________</p>\n        </div>\n        <p className=\"text-center\">\n          СПРАВКА-ДОКЛАД <br/>\n          о состоянии дел в ФГКУ \"12 ЦНИИ\" Минобороны России <br/>\n          на {startDate.toLocaleString(\"ru\")}\n        </p>\n        <p className=\"font-bold\">\n          1. Находятся на службе:\n        </p>\n        <p>\n          Всего <b>{onWorkAll.length}</b>, в том числе: <br/>\n          военнослужащие - <b>{onWorkMilitary.length}</b> чел., из них женщин с детьми до 14 лет\n          - {onWorkMilitaryWithChildren.length} чел. <br/>\n          гражданские - <b>{onWorkPeople.length}</b> чел., из них женщин с детьми до 14 лет\n          - {onWorkPeopleWithChildren.length} чел.\n        </p>\n        <table className=\"mt-1 text-center text-xs break-words w-full\">\n          <tr className=\"\">\n            <td rowSpan={2} className=\"border p-1\">ППД</td>\n            <td rowSpan={2} className=\"border p-1\">Военнослужащие</td>\n            <td rowSpan={2} className=\"border p-1\">Гр. персонал</td>\n            <td rowSpan={2} className=\"border p-1\">Covid</td>\n            <td colSpan={2} className=\"border p-1\">Инфекционные заболевания</td>\n            <td rowSpan={2} className=\"border p-1\">Неинфекционные (другие) заболевания</td>\n            <td rowSpan={2} className=\"border p-1\">Карантин</td>\n            <td rowSpan={2} className=\"border p-1\">65+</td>\n            <td rowSpan={2} className=\"border p-1\">Удаленная работа</td>\n          </tr>\n          <tr>\n            <td className=\"border p-1\">Пневмония</td>\n            <td className=\"border p-1\">ОРВ</td>\n          </tr>\n          {listOfCity.map(el => {\n            return (\n              <tr>\n                <td className=\"border p-1\">{el.name}</td>\n                <td className=\"border p-1\">\n                  {onWorkMilitary.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {onWorkPeople.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {withCovidStat.filter(obj => obj.city_id === el.id).length + withCovidAmb.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {withPnevmoniaAmb.filter(obj => obj.city_id === el.id).length + withPnevmoniaStat.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {withRespiratornoAmb.filter(obj => obj.city_id === el.id).length + withRespiratornoStat.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {withNoInfectionAmb.filter(obj => obj.city_id === el.id).length + withNoInfectionStat.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {withKarantin.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {with65.filter(obj => obj.city_id === el.id).length}\n                </td>\n                <td className=\"border p-1\">\n                  {onRemoteWork.filter(obj => obj.city_id === el.id).length}\n                </td>\n              </tr>\n            )\n          })}\n          <tr className=\"font-bold\">\n            <td className=\"border p-1\">Итого</td>\n            <td className=\"border p-1\">{onWorkMilitary.length}</td>\n            <td className=\"border p-1\">{onWorkPeople.length}</td>\n            <td className=\"border p-1\">{withCovidStat.length + withCovidAmb.length}</td>\n            <td className=\"border p-1\">{withPnevmoniaAmb.length + withPnevmoniaStat.length}</td>\n            <td className=\"border p-1\">{withRespiratornoAmb.length + withRespiratornoStat.length}</td>\n            <td className=\"border p-1\">{withNoInfectionAmb.length + withNoInfectionStat.length}</td>\n            <td className=\"border p-1\">{withKarantin.length}</td>\n            <td className=\"border p-1\">{with65.length}</td>\n            <td className=\"border p-1\">{onRemoteWork.length}</td>\n          </tr>\n        </table>\n\n        <p className=\"mt-2\">\n          <b>2. Число заболевших:</b>\n        </p>\n\n        <table className=\"mt-1 text-center text-xs break-words w-full\">\n          <tr>\n            <td rowSpan={3} className=\"border p-1 w-1/6\">Подразделения</td>\n            <td rowSpan={2} colSpan={3} className=\"border p-1 w-1/6\">Covid</td>\n            <td colSpan={6} className=\"border p-1 w-1/6\">Инфекционные заболевания</td>\n            <td rowSpan={2} colSpan={3} className=\"border p-1 w-1/6\">Неинфекционные (другие) заболевания</td>\n            <td rowSpan={2} colSpan={3} className=\"border p-1 w-1/6\">Карантин</td>\n          </tr>\n          <tr>\n            <td colSpan={3} className=\"border p-1\">Пневмания</td>\n            <td colSpan={3} className=\"border p-1\">ОРВ</td>\n          </tr>\n          <tr>\n            {repeatBlock(<>\n              <td className=\"border p-1\">Всл.</td>\n              <td className=\"border p-1\">ГП</td>\n              <td className=\"border p-1\">Итого</td>\n            </>, 5)}\n          </tr>\n          {listOfGroup.map(el => {\n            const withCovid = [...withCovidAmb.filter(person => person.group_id__name === el.name),\n              ...withCovidStat.filter(person => person.group_id__name === el.name)];\n            const withPnevmania = [...withPnevmoniaAmb.filter(person => person.group_id__name === el.name),\n              ...withPnevmoniaStat.filter(person => person.group_id__name === el.name)];\n            const withOrv = [...withRespiratornoAmb.filter(person => person.group_id__name === el.name),\n              ...withRespiratornoStat.filter(person => person.group_id__name === el.name)];\n            const withOther = [...withNoInfectionAmb.filter(person => person.group_id__name === el.name),\n              ...withNoInfectionStat.filter(person => person.group_id__name === el.name)];\n            const karantin = [...withKarantin.filter(person => person.group_id__name === el.name)];\n            return (\n              <tr>\n                <td className=\"border p-1\">{el.name}</td>\n                {filterBlock(withCovid)}\n                {filterBlock(withPnevmania)}\n                {filterBlock(withOrv)}\n                {filterBlock(withOther)}\n                {filterBlock(karantin)}\n              </tr>\n            )\n          })}\n          <tr className=\"font-bold\">\n            <td className=\"border p-1\">Итого</td>\n            {filterBlock([...withCovidAmb, ...withCovidStat])}\n            {filterBlock([...withPnevmoniaAmb, ...withPnevmoniaStat])}\n            {filterBlock([...withRespiratornoAmb, ...withRespiratornoStat])}\n            {filterBlock([...withNoInfectionAmb, ...withNoInfectionStat])}\n            {filterBlock(withKarantin)}\n          </tr>\n        </table>\n\n        <p className=\"mt-2\">\n          Всего - <b>{withDisease.length}</b> <br/>\n          в том числе:\n        </p>\n        <p className=\"font-bold text-center mt-8\">\n          Коронавирусная инфекция - {withCovidAmb.length + withCovidStat.length} чел.\n          ({withCovidAmb.filter(el => el.is_military).length + withCovidStat.filter(el => el.is_military).length} в/сл,\n          {withCovidAmb.filter(el => !el.is_military).length + withCovidStat.filter(el => !el.is_military).length} гп)\n        </p>\n        <div className=\"mt-1 text-center text-xs\">\n          {makeTableHeader()}\n          <p className=\"font-bold text-center border p-1\">Стационар</p>\n          {makeTableData(withCovidStat)}\n          <p className=\"font-bold text-center border p-1\">Амбулаторно</p>\n          {makeTableData(withCovidAmb)}\n        </div>\n        <p className=\"font-bold text-center mt-8\">\n          Пневмония - {withPnevmoniaAmb.length + withPnevmoniaStat.length} чел.\n          ({withPnevmoniaAmb.filter(el => el.is_military).length + withPnevmoniaStat.filter(el => el.is_military).length} в/сл,\n          {withPnevmoniaAmb.filter(el => !el.is_military).length + withPnevmoniaStat.filter(el => !el.is_military).length} гп)\n        </p>\n        <div className=\" mt-1 text-center text-xs\">\n          {makeTableHeader()}\n          <p className=\"font-bold text-center border p-1\">Стационар</p>\n          {makeTableData(withPnevmoniaStat)}\n          <p className=\"font-bold text-center border p-1\">Амбулаторно</p>\n          {makeTableData(withPnevmoniaAmb)}\n        </div>\n        <p className=\"font-bold text-center mt-8\">\n          Острые респираторные вирусные инфекции (не коронавирусная\n          инфекция) - {withRespiratornoStat.length + withRespiratornoAmb.length} чел.\n          ({withRespiratornoStat.filter(el => el.is_military).length + withRespiratornoAmb.filter(el => el.is_military).length} в/сл,\n          {withRespiratornoStat.filter(el => !el.is_military).length + withRespiratornoAmb.filter(el => !el.is_military).length} гп)\n        </p>\n        <div className=\"mt-1 text-center text-xs\">\n          {makeTableHeader()}\n          <p className=\"font-bold text-center border p-1\">Стационар</p>\n          {makeTableData(withRespiratornoStat)}\n          <p className=\"font-bold text-center border p-1\">Амбулаторно</p>\n          {makeTableData(withRespiratornoAmb)}\n        </div>\n\n        <p className=\"font-bold text-center \">\n          Неинфекционные (другие) заболевания - {withNoInfectionAmb.length + withNoInfectionStat.length} чел.\n          ({withNoInfectionAmb.filter(el => el.is_military).length + withNoInfectionStat.filter(el => el.is_military).length} в/сл,\n          {withNoInfectionAmb.filter(el => !el.is_military).length + withNoInfectionStat.filter(el => !el.is_military).length} гп)\n        </p>\n        <div className=\"mt-1 text-center text-xs\">\n          {makeTableHeader()}\n          <p className=\"font-bold text-center border p-1\">Стационар</p>\n          {makeTableData(withNoInfectionStat)}\n          <p className=\"font-bold text-center border p-1\">Амбулаторно</p>\n          {makeTableData(withNoInfectionAmb)}\n        </div>\n        <p className=\"font-bold text-center mt-8\">\n          Карантин - {withKarantin.length} чел.\n          ({withKarantin.filter(el => el.is_military).length} в/сл,\n          {withKarantin.filter(el => !el.is_military).length} гп)\n        </p>\n        <div className=\"mt-1 text-center text-xs\">\n          {makeTableHeader()}\n          {makeTableData(withKarantin)}\n        </div>\n\n        <div className=\"mt-4 text-left\">\n          <p className=\"p-1\">Офицер оперативной группы в/ч 51105</p>\n          <Moment className=\" p-1\" format=\"DD.MM.YYYY\">{startDate}</Moment>\n          <p className=\"text-right p-1\">_____________________________________________________________________</p>\n          <p className=\"text-right p-1\">\n            <pre>воинское звание    подпись    инициал имени, фамилия</pre>\n          </p>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default SeeReport","import React, {createRef, useEffect, useState} from 'react'\r\nimport Button, {InputForDatePicker} from \"./Button\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport workWithServer from \"../core/workWithServer\";\r\n\r\nfunction ListForEntering({headerRef, setShowBody}) {\r\n  const dateToday = new Date();\r\n  dateToday.setDate(dateToday.getDate() + 1);\r\n\r\n  const tomorrow = new Date(dateToday);\r\n  const [startDate, setStartDate] = useState(tomorrow);\r\n\r\n  const printRef = createRef();\r\n\r\n  const [listOfPerson, setListOfPerson] = useState([]);\r\n  const [listOfGroup, setListOfGroup] = useState([]);\r\n\r\n  const getListOfReport = () => {\r\n    workWithServer.getListOfReport({'date': startDate}).then(data => {\r\n      setListOfPerson(prevState => prevState.map(el => {\r\n        let index = data.find(obj => obj.userForControl_id === el.id);\r\n        delete el['comment'];\r\n        delete el['status_id'];\r\n        delete el['status_id__name'];\r\n        if (typeof index === 'object') return { ...index,...el};\r\n        return el\r\n      }))\r\n    })\r\n  };\r\n\r\n  useEffect(() => {\r\n    workWithServer.getListOfGroup().then(setListOfGroup);\r\n    workWithServer.getListOfPerson().then(data => {\r\n      setListOfPerson(data);\r\n      getListOfReport();\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getListOfReport();\r\n  }, [startDate]);\r\n\r\n  // const onWorkAll = listOfPerson.filter(el => !el.status_id || el.status_id__name === 'Наряд');\r\n\r\n  const onWorkAll = listOfPerson.filter(el => {\r\n    if(startDate.getDay() === 0 || startDate.getDay() === 6){\r\n      return el.status_id__name === 'Наряд'\r\n    }\r\n    return !el.status_id || el.status_id__name === 'Наряд'\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div ref={printRef}>\r\n        <Button className=\"\" type='primary' text=\"Назад\" onClick={() => {\r\n          setShowBody('nothing')\r\n        }}/>\r\n        <Button className=\"\" type='success' text=\"Распечатать\" onClick={() => {\r\n          printRef.current.classList.add('hidden');\r\n          headerRef.current.classList.add('hidden');\r\n          window.print();\r\n          printRef.current.classList.remove('hidden');\r\n          headerRef.current.classList.remove('hidden');\r\n        }}/>\r\n        <DatePicker\r\n          className=\"rounded border border-blue-700 p-1\"\r\n          selected={startDate}\r\n          onChange={date => setStartDate(date)}\r\n          dateFormat=\"dd.MM.yyyy\"\r\n          customInput={<InputForDatePicker/>}\r\n        />\r\n      </div>\r\n      <p className=\"font-bold m-2 text-center text-2xl\">Списки на проход на {startDate.toLocaleDateString('ru')}</p>\r\n      {listOfGroup.map(group => {\r\n        const byGroup = onWorkAll.filter(person => person.group_id === group.id);\r\n        const chunk_size = Math.ceil(byGroup.length / 4);\r\n        const groups = byGroup.map(function (e, i) {\r\n          return i % chunk_size === 0 ? byGroup.slice(i, i + chunk_size) : null;\r\n        }).filter(e => e);\r\n        const [mass1, mass2, mass3, mass4] = groups;\r\n        console.log([mass1, mass2, mass3, mass4])\r\n        console.log(groups);\r\n\r\n        return (\r\n          <>\r\n            {byGroup.length > 0\r\n              ?\r\n              <div style={{pageBreakAfter: 'always'}}>\r\n                <p className=\"mt-2 text-center font-semibold text-2xl border p-1\">{group.name}</p>\r\n                <div className=\"text-center text-xs\">\r\n                  <div className=\"flex\">\r\n                    <p className=\"border p-1 inline-block w-1/12\">№</p>\r\n                    <p className=\"border p-1 inline-block w-2/12\">Звание и ФИО</p>\r\n                    <p className=\"border p-1 inline-block w-1/12\">№</p>\r\n                    <p className=\"border p-1 inline-block w-2/12\">Звание и ФИО</p>\r\n                    <p className=\"border p-1 inline-block w-1/12\">№</p>\r\n                    <p className=\"border p-1 inline-block w-2/12\">Звание и ФИО</p>\r\n                    <p className=\"border p-1 inline-block w-1/12\">№</p>\r\n                    <p className=\"border p-1 inline-block w-2/12\">Звание и ФИО</p>\r\n                  </div>\r\n                  {mass1.map((el, index) => {\r\n                    const mass2elem = mass2 ? mass2[index] : null;\r\n                    const mass3elem = mass3 ? mass3[index] : null;\r\n                    const mass4elem = mass4 ? mass4[index] : null;\r\n                    return (\r\n                      <div className=\"flex\">\r\n                        <p className=\"border p-1 inline-block w-1/12\">{index + 1}</p>\r\n                        <p\r\n                          className=\"border p-1 inline-block w-2/12 text-left\">{el.rank_id__name ? el.rank_id__name : 'гп'} {el.name}</p>\r\n                        {\r\n                          mass2elem && <>\r\n                            <p className=\"border p-1 inline-block w-1/12\">{chunk_size + index + 1}</p>\r\n                            <p className=\"border p-1 inline-block w-2/12 text-left\">\r\n                              {mass2elem.rank_id__name ? mass2elem.rank_id__name : 'гп'} {mass2elem.name}\r\n                            </p>\r\n                          </>\r\n                        }\r\n                        {\r\n                          mass3elem && <>\r\n                            <p className=\"border p-1 inline-block w-1/12\">{chunk_size * 2 + index + 1}</p>\r\n                            <p className=\"border p-1 inline-block w-2/12 text-left\">\r\n                              {mass3elem.rank_id__name ? mass3elem.rank_id__name : 'гп'} {mass3elem.name}\r\n                            </p>\r\n                          </>\r\n                        }\r\n                        {\r\n                          mass4elem && <>\r\n                            <p className=\"border p-1 inline-block w-1/12\">{chunk_size * 3 + index + 1}</p>\r\n                            <p className=\"border p-1 inline-block w-2/12 text-left\">\r\n                              {mass4elem.rank_id__name ? mass4elem.rank_id__name : 'гп'} {mass4elem.name}\r\n                            </p>\r\n                          </>\r\n                        }\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n              : <></>\r\n            }\r\n          </>\r\n        )\r\n      })}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ListForEntering","import React from 'react'\r\nimport { usePromiseTracker } from \"react-promise-tracker\";\r\n\r\nexport default function Loader() {\r\n  const { promiseInProgress } = usePromiseTracker();\r\n  return (\r\n    promiseInProgress &&\r\n    <div id=\"loader\" className=\"absolute h-screen w-screen bg-gray-400 bg-opacity-25 text-center flex top-0\">\r\n      <p className=\"m-auto bg-blue-600 text-white border rounded animate-pulse p-4\">Идет загрузка данных...</p>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport './modal.css'\r\nimport PropTypes from \"prop-types\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\n\r\nfunction MyModal({show, showModal, children}) {\r\n\r\n  return (\r\n    <CSSTransition in={show} timeout={200} unmountOnExit classNames=\"myModalAnimation\">\r\n      <div className=\"fixed z-10 inset-0 overflow-y-auto\">\r\n        <div className=\"fixed inset-0 transition-opacity\">\r\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\" onClick={() => showModal(false)}/>\r\n        </div>\r\n        <div className=\"flex justify-center py-12 px-8\">\r\n          <div\r\n            className=\"rounded shadow-xl transform transition-all my-8 sm:max-w-lg w-full\"\r\n            role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-headline\">\r\n            <div className=\"bg-white rounded p-4\">\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\nMyModal.propTypes = {\r\n  show: PropTypes.bool.isRequired,\r\n  showModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default MyModal","import React, {useEffect, useState} from 'react'\r\nimport Button, {InputForDatePicker} from \"./Button\";\r\nimport workWithServer from \"../core/workWithServer\";\r\nimport Moment from \"react-moment\";\r\nimport MyModal from \"./Modal\";\r\nimport clsx from \"clsx\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport moment from \"moment\";\r\n\r\nexport default function MainPageForCenter({setShowBody}) {\r\n  const curr = new Date();\r\n  const firstDay = new Date(curr.getFullYear(), curr.getMonth(), 1, 5);\r\n  const lastDay = new Date(curr.getFullYear(), curr.getMonth() + 1, 0, 5);\r\n\r\n  const [currDate, setCurrDate] = useState(curr);\r\n  const [startDate, setStartDate] = useState(firstDay);\r\n  const [endDate, setEndDate] = useState(lastDay);\r\n  const [massWithDate, setMassWithDate] = useState([]);\r\n  const [endDateForModal, setEndDateForModal] = useState(null);\r\n\r\n  const [listOfPerson, setListOfPerson] = useState([]);\r\n  const [listOfReport, setListOfReport] = useState([]);\r\n  const [listStatus, setListStatus] = useState([]);\r\n\r\n  const [show, setShow] = useState(false);\r\n  const [personModal, setPersonModal] = useState({});\r\n  const [objectModal, setObjectModal] = useState({});\r\n\r\n  const [extraStatus, setExtraStatus] = useState([]);\r\n  const [extraFields, setExtraFields] = useState({});\r\n  const [showExtraFields, setShowExtraFields] = useState(false);\r\n  const [showError, setShowError] = useState(false);\r\n\r\n  const workWithExtraFields = status => setShowExtraFields(status ? status.with_extraField : false);\r\n\r\n  const workWithStatus = (el, extrafields) => {\r\n    setShowError(false);\r\n    const status = listStatus.find(status => status.id === el.status_id);\r\n    const children_status = status ? listStatus.filter(el => el.parent_id === status.id) : [];\r\n    workWithExtraFields(children_status.length > 0 ? children_status[0] : status);\r\n    setExtraStatus(children_status);\r\n\r\n    if (status && status.parent_id) {\r\n      el.extra_status_id = el.status_id;\r\n      el.status_id = status.parent_id;\r\n      setExtraStatus(listStatus.filter(el => el.parent_id === status.parent_id));\r\n      status.with_extraField && Object.keys(extrafields).length === 0 && setExtraFields({\r\n        't': ''\r\n      })\r\n        // : setExtraFields({});\r\n    } else if (children_status.length > 0) {\r\n      el.extra_status_id = children_status[0].id;\r\n      el.status_id = status.id;\r\n      children_status[0].with_extraField && Object.keys(extrafields).length === 0 && setExtraFields({\r\n        't': ''\r\n      })\r\n    // : setExtraFields({});\r\n    } else {\r\n      // setExtraFields({});\r\n      el.extra_status_id = null\r\n    }\r\n    return el\r\n  };\r\n\r\n  const modal = (person, obj, date) => {\r\n    setPersonModal(person);\r\n    let el = obj ? {...obj} : {\r\n      'userForControl_id': person.id,\r\n      'date': date\r\n    };\r\n    workWithServer.getExtraFieldsForStatus({'day_data_id': el.id}).then((data) => {\r\n      setExtraFields(data);\r\n      el = workWithStatus(el, data);\r\n      setObjectModal(el);\r\n      setShowError(false);\r\n      setShow(true);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    workWithServer.getListOfPerson().then(setListOfPerson);\r\n    workWithServer.getListOfStatus().then(setListStatus);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    workWithServer.getListOfReport({'date_begin': startDate, 'date_end': endDate}).then(data => {\r\n      setListOfReport(data)\r\n    });\r\n    const tempMassWithDate = [];\r\n    const currentDate = new Date(startDate);\r\n    while (endDate >= currentDate) {\r\n      tempMassWithDate.push(new Date(currentDate));\r\n      currentDate.setDate(currentDate.getDate() + 1)\r\n    }\r\n    setMassWithDate(tempMassWithDate)\r\n  }, [startDate, endDate]);\r\n  console.log(extraFields);\r\n  console.log(objectModal);\r\n  return (\r\n    <div>\r\n      <div>\r\n        {/*<Button className=\"\" type='primary' text=\"Управление должностями\" onClick={() => {*/}\r\n        {/*  setShowBody('listOfPost')*/}\r\n        {/*}}/>*/}\r\n        <Button className=\"\" type='primary' text=\"Управление л/с\" onClick={() => {\r\n          setShowBody('listOfPerson')\r\n        }}/>\r\n        {/*<Button className=\"\" type='primary' text=\"Сформировать отчет\" onClick={() => {*/}\r\n        {/*  setShowBody('makeReport')*/}\r\n        {/*}}/>*/}\r\n        <select className=\"rounded border border-blue-700 p-1 bg-white\" value={currDate.getMonth()} onChange={e => {\r\n          const curr = new Date();\r\n          curr.setMonth(e.target.value);\r\n          setCurrDate(curr);\r\n          setStartDate(new Date(curr.getFullYear(), curr.getMonth(), 1, 5));\r\n          setEndDate(new Date(curr.getFullYear(), curr.getMonth() + 1, 0, 5));\r\n        }\r\n        }>\r\n          <option value={0}>Январь</option>\r\n          <option value={1}>Февраль</option>\r\n          <option value={2}>Март</option>\r\n          <option value={3}>Апрель</option>\r\n          <option value={4}>Май</option>\r\n          <option value={5}>Июнь</option>\r\n          <option value={6}>Июль</option>\r\n          <option value={7}>Август</option>\r\n          <option value={8}>Сентябрь</option>\r\n          <option value={9}>Октябрь</option>\r\n          <option value={10}>Ноябрь</option>\r\n          <option value={11}>Декабрь</option>\r\n        </select>\r\n        <div className=\"float-right\">\r\n          <Button className=\"\" type='warning' text=\"Списки на проход\" onClick={() => {\r\n            setShowBody('listForEntering')\r\n          }}/>\r\n          <Button className=\"\" type='warning' text=\"Справка доклад\" onClick={() => {\r\n            setShowBody('report')\r\n          }}/>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <table className=\"m-2 overflow-x-auto\">\r\n          <tr className=\"\">\r\n            <td className=\"w-12 p-1 border\">№</td>\r\n            <td className=\"w-40 p-1 border\">Звание</td>\r\n            <td className=\"w-56 p-1 border\">ФИО</td>\r\n            {massWithDate.map(el => <td className={clsx(\"p-1 border\", {\r\n              'bg-blue-200 bg-opacity-25': el.getDay() === 0 || el.getDay() === 6,\r\n              'bg-red-200 bg-opacity-25': el.getDate() === curr.getDate(),\r\n            })}>\r\n              <Moment format=\"DD\">{el}</Moment></td>)}\r\n          </tr>\r\n          {listOfPerson.map((el, index) => {\r\n            const listReportByPerson = listOfReport.filter(obj => obj.userForControl_id === el.id);\r\n            return <tr className=\"\">\r\n              <td className=\"w-12 p-1 border\">{index + 1}</td>\r\n              <td className=\"w-40 p-1 border\">{el.rank_id__name}</td>\r\n              <td className=\"w-56  p-1 border cursor-pointer\">{el.name}</td>\r\n              {massWithDate.map(date => {\r\n                const filter = listReportByPerson.find(obj => Number(obj.date) === date.getDate() && !!obj.status_id);\r\n                return <td className={clsx(\"p-1 border w-12 text-center align-middle text-red-500 cursor-pointer\", {\r\n                  'bg-blue-200 bg-opacity-25': date.getDay() === 0 || date.getDay() === 6,\r\n                  'bg-red-200 bg-opacity-25': date.getDate() === curr.getDate(),\r\n                })} onClick={() => {\r\n                  modal(el, filter, date.getDate())\r\n                }}>\r\n                  {filter ? filter['status_id__abbr'] ? filter['status_id__abbr'] : '+' : ''}\r\n                </td>\r\n              })}\r\n            </tr>\r\n          })}\r\n        </table>\r\n      </div>\r\n\r\n      <MyModal show={show} showModal={setShow}>\r\n        <div className=\"border-b m-1 mb-4 p-2 flex\">\r\n          <span\r\n            className=\"my-auto\">{personModal.name} ({objectModal.date}.{currDate.getMonth() + 1}.{currDate.getFullYear()})</span>\r\n          <span className=\"ml-auto cursor-pointer\" onClick={() => setShow(false)}>x</span>\r\n        </div>\r\n\r\n        <p className=\"my-2\">Выберите статус:</p>\r\n        <select className=\"w-full h-full border-b border-blue-700 bg-white\" value={objectModal.status_id}\r\n                onChange={(e) => {\r\n                  const value = e.target.value;\r\n                  let comment = value ? objectModal.comment : '';\r\n                  const el = workWithStatus({...objectModal, status_id: Number(value), comment: comment}, extraFields);\r\n                  setObjectModal(el)\r\n                }}>\r\n          <option value=\"\">Сбросить статус</option>\r\n          {listStatus.filter(el => !el.parent_id).map(el => <option key={el.id} value={el.id} onClick={(obj) => {\r\n            setExtraStatus(listStatus.filter(el => el.parent_id === obj.id))\r\n          }}>{el.name}</option>)}\r\n        </select>\r\n        {extraStatus.length > 0 && <>\r\n          <p className=\"my-2\">Выберите доп статус:</p>\r\n          <select className=\"w-full h-full border-b border-blue-700 bg-white\" value={objectModal.extra_status_id}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value;\r\n                    const el = workWithStatus({...objectModal, status_id: Number(value)}, extraFields);\r\n                    setObjectModal(el)\r\n                  }}>\r\n            {extraStatus.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\r\n          </select>\r\n        </>}\r\n\r\n        {showExtraFields && <>\r\n          <p className=\"my-2\">Температура тела</p>\r\n          <input className=\"p-1 w-full border border-blue-700 bg-white rounded outline-none\" value={extraFields.t}\r\n                 placeholder=\"Температура тела...\" onKeyPress={(event) => {\r\n            if ((event.which != 46) && (event.which < 48 || event.which > 57)) {\r\n              event.preventDefault();\r\n            }\r\n          }} onChange={(e) => {\r\n            setShowError(false);\r\n            setExtraFields({...extraFields, t: e.target.value})\r\n          }}/>\r\n        </>}\r\n\r\n        <p className=\"my-2\">По какое число:</p>\r\n        <DatePicker\r\n          className=\"rounded border border-blue-700 p-1 w-full\"\r\n          selected={endDateForModal}\r\n          onChange={date => setEndDateForModal(new Date(date.setHours(5)))}\r\n          dateFormat=\"dd.MM.yyyy\"\r\n          customInput={<InputForDatePicker/>}\r\n          isClearable\r\n          placeholderText=\"По какое число...\"\r\n          minDate={new Date(currDate.getFullYear(), currDate.getMonth(), objectModal.date)}\r\n        />\r\n        {showExtraFields && !!(listStatus.find(el => el.id === objectModal.extra_status_id && el.name.toLowerCase().indexOf('неинфекционное'))) && <>\r\n          <p className=\"my-2\">Тест на Covid</p>\r\n          <div className=\"flex\">\r\n            <DatePicker\r\n              className=\"rounded border border-blue-700 p-1 w-full\"\r\n              selected={extraFields.test_date ? moment(extraFields.test_date, \"DD.MM.YYYY\").toDate() : null}\r\n              onChange={date => {\r\n                setExtraFields({...extraFields, test_date: date ? date.toLocaleDateString('ru') : ''})\r\n              }}\r\n              dateFormat=\"dd.MM.yyyy\"\r\n              customInput={<InputForDatePicker/>}\r\n              isClearable\r\n              placeholderText=\"Дата теста...\"\r\n            />\r\n            <input className=\"w-full p-1 border border-blue-700 bg-white rounded outline-none\"\r\n                   value={extraFields.test} placeholder=\"Комментарий...\" onChange={(e) => {\r\n              setShowError(false);\r\n              setExtraFields({...extraFields, test: e.target.value})\r\n            }}/>\r\n          </div>\r\n\r\n          <p className=\"my-2\">Тест на Covid результат</p>\r\n          <div className=\"flex\">\r\n            <DatePicker\r\n              className=\"rounded border border-blue-700 p-1 w-full\"\r\n              selected={extraFields.test_result_date ? moment(extraFields.test_result_date, \"DD.MM.YYYY\").toDate() : null}\r\n              onChange={date => {\r\n                setExtraFields({...extraFields, test_result_date: date ? date.toLocaleDateString('ru') : ''})\r\n              }}\r\n              dateFormat=\"dd.MM.yyyy\"\r\n              customInput={<InputForDatePicker/>}\r\n              isClearable\r\n              placeholderText=\"Дата результата теста...\"\r\n            />\r\n            <input className=\"w-full p-1 border border-blue-700 bg-white rounded outline-none\"\r\n                   value={extraFields.test_result} placeholder=\"Результат теста на Covid...\" onChange={(e) => {\r\n              setShowError(false);\r\n              setExtraFields({...extraFields, test_result: e.target.value})\r\n            }}/>\r\n          </div>\r\n\r\n\r\n        </>}\r\n        {showError && <p className=\"text-red-500 text-center\">Вам необходимо заполнить все поля</p>}\r\n        <p className=\"my-2\">Комментарий</p>\r\n        <textarea className=\"p-1 w-full border border-blue-700 bg-white rounded outline-none\"\r\n                  value={objectModal.comment}\r\n                  placeholder=\"Оставьте комментарий...\" onChange={(e) => {\r\n          setObjectModal({...objectModal, comment: e.target.value})\r\n        }}/>\r\n\r\n        <Button className=\"my-4 mx-0 w-full\" type=\"primary\" text=\"Сохранить\" onClick={() => {\r\n          if (('t' in extraFields && !extraFields.t) ||\r\n            ((!!extraFields.test_date) && ('test_date' in extraFields && !extraFields.test_result_date)) ||\r\n            (!('fromDiseaseDate' in extraFields) && objectModal.extra_status_id && !endDateForModal)\r\n          ) {\r\n            setShowError(true);\r\n            return\r\n          }\r\n          const month = currDate.getMonth() + 1 >= 10 ? currDate.getMonth() + 1 : '0' + (currDate.getMonth() + 1);\r\n          const day = (String(objectModal.date)).length >= 2 ? objectModal.date : '0' + objectModal.date;\r\n          objectModal.status_id = objectModal.extra_status_id ? objectModal.extra_status_id : objectModal.status_id;\r\n          workWithServer.setOneReport({\r\n            'data': objectModal,\r\n            'date': `${currDate.getFullYear()}-${month}-${day}`,\r\n            'date_end': endDateForModal,\r\n            'extraFields': extraFields\r\n          }).then(() => {\r\n            workWithServer.getListOfReport({'date_begin': startDate, 'date_end': endDate}).then(data => {\r\n              setListOfReport(data)\r\n            });\r\n          });\r\n          setShow(false);\r\n          setEndDateForModal(null);\r\n        }}/>\r\n\r\n      </MyModal>\r\n    </div>\r\n  )\r\n}","import React, {createRef, useEffect, useState} from \"react\";\nimport Button from \"./Button\";\nimport DataTable from 'react-data-table-component';\nimport workWithServer from \"../core/workWithServer\";\n\nexport default function ListOfPost({setShowBody}) {\n  const [toggleCleared, setToggleCleared] = useState(false);\n  const [idNewRow, setIdNewRow] = useState(-1);\n\n  const [listOfGroup, setListOfGroup] = useState([]);\n  const [listOfPost, setListOfPost] = useState([]);\n\n  let selectedRows = [];\n\n  let refGroup_id = createRef();\n  let refName = createRef();\n  let refPosition = createRef();\n\n  useEffect(() => {\n    workWithServer.getListOfGroup().then(setListOfGroup);\n    workWithServer.getListOfPost().then(setListOfPost);\n  }, []);\n\n  useEffect(() => {\n    listOfPost.filter(el => el.is_editable).map(el => {\n      refGroup_id.current.value = Number(el.group_id);\n      refName.current.value = el.name;\n      refPosition.current.value = Number(el.position);\n    })\n  }, [listOfPost]);\n\n  const columns = [\n    {\n      name: '№',\n      selector: 'id',\n      sortable: true,\n      cell: (row, index) => {\n        return <div>{index + 1}</div>;\n      },\n    },\n    {\n      name: 'Подразделение',\n      selector: 'group_id',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <select ref={refGroup_id} className=\"w-full h-full border-b border-blue-700 bg-white\">\n            {listOfGroup.map(el => <option key={el.id} value={el.id}>{el.name}</option>)}\n          </select>\n          : <div>{(listOfGroup.filter(el => el.id === Number(row.group_id))).map(el => el.name)}</div>;\n      },\n    },\n    {\n      name: 'Должность',\n      selector: 'name',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <input ref={refName} className=\"w-full h-full border-b border-blue-700 bg-white\"/>\n          : <div>{row.name}</div>;\n      },\n    },\n    {\n      name: 'Порядковый номер',\n      selector: 'position',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <input ref={refPosition} className=\"w-full h-full border-b border-blue-700 bg-white\"/>\n          : <div>{row.position}</div>;\n      },\n    },\n    {\n      name: 'Изменить',\n      selector: 'edit',\n      sortable: true,\n      cell: row => {\n        return row.is_editable\n          ? <Button type=\"warning\" text=\"Применить\" onClick={() => {\n            setListOfPost(prev => prev.map(el => {\n              if (el.id === row.id) {\n                el.is_editable = false;\n                el.name = refName.current.value;\n                el.group_id = refGroup_id.current.value;\n                el.position = refPosition.current.value;\n              }\n              return el\n            }))\n          }}/>\n          : <Button type=\"warning\" text=\"Изменить\" onClick={() => {\n            setListOfPost(prev => prev.map(el => {\n              el.is_editable = el.id === row.id;\n              return el\n            }))\n          }}/>\n      },\n    },\n  ];\n\n  const selectedRow = (state) => {\n    selectedRows = state.selectedRows\n  };\n\n  const actions = (\n    <>\n      <Button className=\"text-base\" type=\"primary\" text=\"Добавить\" onClick={() => {\n        setListOfPost([{\n          id: idNewRow,\n          is_editable: true,\n          name: '',\n          group_id: '',\n          position: '',\n        }, ...listOfPost.map((el => {\n          el.is_editable = false;\n          return el\n        }))]);\n        setIdNewRow(prevState => prevState - 1)\n      }}/>\n    </>);\n\n  const contextActions = <Button className=\"text-base\" type=\"danger\" text=\"Удалить\" onClick={() => {\n    const idOfRows = selectedRows.map((el) => el.id);\n    setListOfPost(listOfPost.filter((el) => idOfRows.indexOf(el.id) === -1));\n    setToggleCleared(!toggleCleared)\n  }}/>;\n\n\n  return (\n    <div>\n      <div>\n        <Button className=\"\" type='primary' text=\"Назад\" onClick={() => {\n          setShowBody('nothing')\n        }}/>\n        <Button className=\"\" type='success' text=\"Сохранить\" onClick={() => {\n          workWithServer.setListOfPost({'data': listOfPost}).then(() => setShowBody('nothing'))\n        }}/>\n      </div>\n      <DataTable\n        title=\"Управление должностями подразделения\"\n        columns={columns}\n        selectableRows\n        data={listOfPost}\n        pagination={true}\n        onSelectedRowsChange={selectedRow}\n        contextMessage={{singular: 'строка', plural: 'строк', message: ''}}\n        contextActions={contextActions}\n        actions={actions}\n        clearSelectedRows={toggleCleared}\n        paginationComponentOptions={{\n          rowsPerPageText: 'Строк на странице:',\n          rangeSeparatorText: 'из',\n          noRowsPerPage: false,\n          selectAllRowsItem: false,\n          selectAllRowsItemText: 'Все'\n        }}\n        paginationPerPage={100}\n        paginationRowsPerPageOptions={[25, 50, 100]}\n      />\n    </div>\n  )\n}\n\n","import React, {createRef, useState} from \"react\";\nimport Button from \"./Button\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport ListOfPerson from \"./ListOfPerson\";\nimport MakeReport from \"./MakeReport\";\nimport SeeReport from \"./SeeReport\";\nimport ListForEntering from \"./ListForEntering\";\nimport Loader from \"./Loader\";\nimport MainPageForCenter from \"./MainPageForCenter\";\nimport ListOfPost from \"./ListOfPost\";\n\n\nfunction Home({user}) {\n  const [showBody, setShowBody] = useState('nothing');\n  const headerRef = createRef();\n\n  const mainButton = <MainPageForCenter setShowBody={setShowBody}/>;\n\n  const bodyForCentre = () => {\n    switch (showBody) {\n       case 'listOfPost':\n        return (<ListOfPost setShowBody={setShowBody}/>);\n      case 'listOfPerson':\n        return (<ListOfPerson setShowBody={setShowBody}/>);\n      case 'makeReport':\n        return (<MakeReport setShowBody={setShowBody}/>);\n      case 'listForEntering':\n        return (<ListForEntering headerRef={headerRef} setShowBody={setShowBody}/>);\n      case 'report':\n        return (<SeeReport user={user} headerRef={headerRef} setShowBody={setShowBody}/>);\n      default:\n        return (mainButton)\n    }\n  };\n\n  const mainButtonForControl = (\n    <div>\n      <Button className=\"\" type='primary' text=\"Списки на проход\" onClick={() => {\n        setShowBody('listForEntering')\n      }}/>\n      <Button className=\"\" type='primary' text=\"Справка доклад\" onClick={() => {\n        setShowBody('report')\n      }}/>\n    </div>\n  );\n\n  const bodyForControl = () => {\n    switch (showBody) {\n      case 'listForEntering':\n        return (<ListForEntering headerRef={headerRef} setShowBody={setShowBody}/>);\n      case 'report':\n        return (<SeeReport user={user} headerRef={headerRef} setShowBody={setShowBody}/>);\n      default:\n        return (mainButtonForControl)\n    }\n  };\n\n  return (\n    <>\n      <Header headerRef={headerRef}/>\n      <div className=\"px-2\">\n        {user['is_control']\n          ? bodyForControl()\n          : bodyForCentre()\n        }\n      </div>\n      <Loader/>\n    </>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n  }\n}\n\nexport default connect(mapStateToProps)(Home)","import React, {useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport workWithServer from \"./core/workWithServer\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport {initUser} from \"./redux/actions/actions\";\n\nfunction App({user, initUser}) {\n\tuseEffect(() => {\n\t\t\tworkWithServer.initUser()\n\t\t\t\t.then(data => {\n\t\t\t\t\tinitUser({...data, is_initial: true})\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tinitUser({...user, is_initial: true})\n\t\t\t\t})\n\t\t}, []\n\t);\n\n\treturn (\n\t\tuser.is_initial\n\t\t\t? (\n\t\t\t\tuser.username\n\t\t\t\t\t? <Home/>\n\t\t\t\t\t: <Login/>\n\t\t\t)\n\t\t\t: <span>Loading</span>\n\t)\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuser: state.user,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tinitUser: user => dispatch(initUser(user))\n\t}\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\n\nApp.propTypes = {\n\tuser: PropTypes.object,\n\tinitUser: PropTypes.func,\n};\n","import {InitUser} from \"../actions/actionsType\";\n\nconst initialState = {\n  username: '',\n  is_initial: false,\n}\n\nexport default function user(state = initialState, action) {\n  switch (action.type) {\n    case InitUser:\n      return {\n        ...state,\n        ...action.user,\n      }\n    default:\n      return state\n  }\n}","import {combineReducers} from 'redux'\nimport user from \"./reducers/user\";\n\nexport default combineReducers({\n  user,\n})","// @ts-ignore\nimport React from 'react';\n// @ts-ignore\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport './tailwind.output.css';\n// @ts-ignore\nimport {BrowserRouter} from 'react-router-dom'\n\nimport {createStore} from 'redux'\n// @ts-ignore\nimport {Provider} from 'react-redux'\nimport rootReducer from \"./redux/rootReducer\";\n\nconst store = createStore(rootReducer)\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App/>\n\t\t\t</BrowserRouter>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/documentation.a0d9ad57.docx\";","module.exports = __webpack_public_path__ + \"static/media/doc_control.a0d9ad57.docx\";"],"sourceRoot":""}