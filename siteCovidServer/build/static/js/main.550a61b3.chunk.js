(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(12),c=n.n(l),i=(n(88),n(5)),o=n(16),s=n(35),u=n.n(s),m=n(57),d=n(36),b={initUser:function(){return g("/initUser/")},login:function(e){return g("/login/",e)},logOut:function(){return g("/logout/")},changePassword:function(e){return g("/changePassword/",e)},getListOfCity:function(){return g("/getListOfCity/")},getListOfPerson:function(){return g("/getListOfPerson/")},setListOfPerson:function(e){return g("/setListOfPerson/",e)},getListOfStatus:function(){return g("/getListOfStatus/")},setListOfReport:function(e){return g("/setListOfReport/",e)},getListOfReport:function(e){return g("/getListOfReport/",e)},getListOfRank:function(e){return g("/getListOfRank/",e)},getListOfGroup:function(e){return g("/getListOfGroup/",e)}};function f(e){return e.status>=200&&e.status<300?Promise.resolve(e.json()):Promise.reject(new Error(e.statusText))}function p(e,t){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.trackPromise)(fetch(t,n).then(f));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=Object(m.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Accept:"application/json, text/plain, */*","Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},(r=w("csrftoken"))&&(a["X-CSRFToken"]=r),e.next=5,p(t,{credentials:"include",method:"POST",mode:"same-origin",headers:a,body:JSON.stringify(n)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[]\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var O=n(4);function v(e){var t=e.icon,n=e.type,a=e.text,l=e.onClick,c=e.className,i=e.disabled,o=e.classNameText,s=["rounded-md px-2 py-1 m-2 place-content-center focus:outline-none "];return s.push(c),"primary"===n?s.push("text-white bg-blue-500 bg-opacity-75 hover:bg-opacity-100"):"success"===n?s.push("text-white bg-green-600"):"secondary"===n?s.push("text-white bg-gray-600"):"danger"===n?s.push("text-white bg-red-600"):"warning"===n&&s.push("text-white bg-yellow-600"),r.a.createElement("button",{className:s.join(" "),onClick:l,disabled:i},t?r.a.createElement("i",{className:"material-icons mx-1 float-left"},t):"",r.a.createElement("span",{className:"my-auto "+o},a))}var N=function(e){return r.a.createElement("input",{className:"rounded border border-blue-700 p-1 mr-2",onClick:e.onClick,value:e.value,type:"text",readOnly:!0})};function _(e){return{type:"InitUser",user:e}}var y=Object(o.b)(null,(function(e){return{initUser:function(t){return e(_(t))}}}))((function(e){var t=e.initUser,n=Object(a.useState)(""),l=Object(O.a)(n,2),c=l[0],o=l[1],s=Object(a.useState)(!0),u=Object(O.a)(s,2),m=u[0],d=u[1],f=Object(a.useState)(""),p=Object(O.a)(f,2),E=p[0],g=p[1],h=Object(a.useState)(!0),w=Object(O.a)(h,2),N=w[0],_=w[1];return r.a.createElement("div",{className:"mt-40"},r.a.createElement("p",{className:"text-3xl mx-auto text-center"}," \u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"),r.a.createElement("form",{className:"pt-4 w-1/2 mx-auto",onSubmit:function(e){e.preventDefault();var n=c.length>0,a=E.length>0;d(n),_(a),d&&a&&b.login({username:c,password:E}).then((function(e){e.error?d(!1):t(Object(i.a)(Object(i.a)({},e),{},{is_initial:!0}))})).catch((function(){d(!1)}))}},r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"block mb-1",htmlFor:"name"},"\u0418\u043c\u044f"),r.a.createElement("input",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:border-blue-600",id:"email",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",value:c,onChange:function(e){o(e.target.value),d(!0)}}),!m&&r.a.createElement("label",{className:"text-xs text-red-400 pl-2"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")),r.a.createElement("div",{className:"mb-2"},r.a.createElement("label",{className:"block mb-1",htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:border-blue-600",id:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){g(e.target.value),_(!0)}}),!N&&r.a.createElement("label",{className:"text-xs text-red-400 pl-2"},"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")),r.a.createElement("div",{className:"mb-2 text-center"},r.a.createElement(v,{text:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",type:"primary"}))))}));var x=Object(o.b)((function(e){return{user:e.user}}),(function(e){return{initUser:function(t){return e(_(t))}}}))((function(e){var t=e.user,n=e.initUser,l=e.headerRef,c=Object(a.useState)(!1),o=Object(O.a)(c,2),s=o[0],u=o[1],m=Object(a.useState)(""),d=Object(O.a)(m,2),f=d[0],p=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:l,className:"p-3 border-b flex justify-between"},r.a.createElement("span",{className:"my-auto p-2 border rounded border-blue-600"},t.username," - ",t.group),r.a.createElement("div",null,!t.is_control&&(s?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"rounded border border-blue-700 p-1",value:f,onChange:function(e){p(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c..."}),r.a.createElement(v,{type:"warning",onClick:function(){u(!1),b.changePassword({password:f}).then((function(){n(Object(i.a)(Object(i.a)({},t),{},{username:""}))}))},text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})):r.a.createElement(v,{className:"",type:"warning",onClick:function(){u(!0)},text:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement(v,{className:"",type:"primary",onClick:function(){b.logOut().then((function(){return n(Object(i.a)(Object(i.a)({},t),{},{username:""}))}))},text:"\u0412\u044b\u0439\u0442\u0438"}))))})),j=n(11),k=n(38),S=n.n(k);function C(e){var t=e.setShowBody,n=Object(a.useState)(!1),l=Object(O.a)(n,2),c=l[0],i=l[1],o=Object(a.useState)(-1),s=Object(O.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)([]),f=Object(O.a)(d,2),p=f[0],E=f[1],g=Object(a.useState)([]),h=Object(O.a)(g,2),w=h[0],N=h[1],_=Object(a.useState)([]),y=Object(O.a)(_,2),x=y[0],k=y[1],C=Object(a.useState)(""),R=Object(O.a)(C,2),L=R[0],P=R[1],F=[],D=Object(a.createRef)(),M=Object(a.createRef)(),B=Object(a.createRef)(),T=Object(a.createRef)(),U=Object(a.createRef)();Object(a.useEffect)((function(){b.getListOfCity().then(E),b.getListOfPerson().then(k),b.getListOfRank().then(N)}),[]),Object(a.useEffect)((function(){x.filter((function(e){return e.is_editable})).map((function(e){D.current.value=e.is_military.toString(),M.current.value=Number(e.rank_id),B.current.value=e.name,T.current.value=Number(e.city_id),U.current.value=e.is_woman_with_children.toString()}))}),[x]);var I=x.filter((function(e){return e.name.indexOf(L)>-1})),A=[{name:"\u2116",selector:"id",sortable:!0,cell:function(e,t){return r.a.createElement("div",null,t+1)}},{name:"\u0412\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0439 \u0438\u043b\u0438 \u0433\u0440. \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b",selector:"is_military",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement("select",{ref:D,className:"w-full h-full border-b border-blue-700 bg-white"},r.a.createElement("option",{value:!0},"\u0412\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0439"),r.a.createElement("option",{value:!1},"\u0413\u0440. \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b")):r.a.createElement("div",null,e.is_military?"\u0412\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0439":"\u0413\u0440. \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b")}},{name:"\u0412\u043e\u0438\u043d\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435",selector:"rank_id",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement("select",{ref:M,className:"w-full h-full border-b border-blue-700 bg-white"},r.a.createElement("option",{value:""},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u043e\u0438\u043d\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435"),w.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))):r.a.createElement("div",null,w.filter((function(t){return t.id===Number(e.rank_id)})).map((function(e){return e.name})))}},{name:"\u0424\u0418\u041e",selector:"name",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement("input",{ref:B,className:"w-full h-full border-b border-blue-700 bg-white"}):r.a.createElement("div",null,e.name)}},{name:"\u0413\u043e\u0440\u043e\u0434",selector:"city_id",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement("select",{ref:T,className:"w-full h-full border-b border-blue-700 bg-white"},p.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))):r.a.createElement("div",null,p.filter((function(t){return t.id===Number(e.city_id)})).map((function(e){return e.name})))}},{name:"\u042f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u0436\u0435\u043d\u0449\u0438\u043d\u043e\u0439 \u0441 \u0434\u0435\u0442\u044c\u043c\u0438 \u0434\u043e 14 \u043b\u0435\u0442?",selector:"is_woman_with_children",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement("select",{ref:U,className:"w-full h-full border-b border-blue-700 bg-white"},r.a.createElement("option",{value:!0},"\u0414\u0430"),r.a.createElement("option",{value:!1},"\u041d\u0435\u0442")):r.a.createElement("div",null,e.is_woman_with_children?"\u0414\u0430":"\u041d\u0435\u0442")}},{name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",selector:"edit",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement(v,{type:"warning",text:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){k((function(t){return t.map((function(t){return t.id===e.id&&(t.is_editable=!1,t.is_military="true"===D.current.value,t.rank_id=M.current.value,t.name=B.current.value,t.city_id=T.current.value,t.is_woman_with_children="true"===U.current.value),t}))}))}}):r.a.createElement(v,{type:"warning",text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){k((function(t){return t.map((function(t){return t.is_editable=t.id===e.id,t}))}))}})}}],Y=r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"bg-white rounded border border-blue-600 outline-none text-base p-1",placeholder:"\u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438...",value:L,onChange:function(e){return P(e.target.value)}}),r.a.createElement(v,{className:"text-base",type:"primary",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:function(){k([{id:u,is_military:!0,name:"",is_woman_with_children:!1,is_editable:!0}].concat(Object(j.a)(x.map((function(e){return e.is_editable=!1,e}))))),m((function(e){return e-1}))}})),G=r.a.createElement(v,{className:"text-base",type:"danger",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){var e=F.map((function(e){return e.id}));k(x.filter((function(t){return-1===e.indexOf(t.id)}))),i(!c)}});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(v,{className:"",type:"primary",text:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){t("nothing")}}),r.a.createElement(v,{className:"",type:"success",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:function(){b.setListOfPerson({data:x}).then((function(){return t("nothing")}))}})),r.a.createElement(S.a,{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u044b\u043c \u0441\u043e\u0441\u0442\u0430\u0432\u043e\u043c \u0446\u0435\u043d\u0442\u0440\u0430",columns:A,selectableRows:!0,data:I,pagination:!0,onSelectedRowsChange:function(e){F=e.selectedRows},contextMessage:{singular:"\u0441\u0442\u0440\u043e\u043a\u0430",plural:"\u0441\u0442\u0440\u043e\u043a",message:""},contextActions:G,actions:Y,clearSelectedRows:c,paginationComponentOptions:{rowsPerPageText:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",rangeSeparatorText:"\u0438\u0437",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"\u0412\u0441\u0435"},paginationPerPage:100,paginationRowsPerPageOptions:[25,50,100]}))}var R=n(26),L=n.n(R);n(66);var P=function(e){var t=e.setShowBody,n=Object(a.useState)(new Date),l=Object(O.a)(n,2),c=l[0],o=l[1],s=Object(a.createRef)(),u=Object(a.createRef)(),m=Object(a.useState)([]),d=Object(O.a)(m,2),f=d[0],p=d[1],E=Object(a.useState)([]),g=Object(O.a)(E,2),h=g[0],w=g[1],_=Object(a.useState)(""),y=Object(O.a)(_,2),x=y[0],k=y[1],C=h.filter((function(e){return e.name.indexOf(x)>-1})),R=function(){b.getListOfReport({date:c}).then((function(e){w((function(t){return Object(j.a)(t.map((function(t){var n=e.filter((function(e){return e.userForControl_id===t.id}));return n.length>0?Object(i.a)(Object(i.a)({},t),n[0]):(delete t.comment,delete t.status_id,t)})))}))}))};Object(a.useEffect)((function(){b.getListOfPerson().then((function(e){w(e),R()})),b.getListOfStatus().then(p)}),[]);var P=[{name:"\u2116",selector:"id",sortable:!0,cell:function(e,t){return r.a.createElement("div",null,t+1)}},{name:"\u0412\u043e\u0438\u043d\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435",selector:"rank_id__name",sortable:!0},{name:"\u0424\u0418\u041e",selector:"name",sortable:!0},{name:"\u0421\u0442\u0430\u0442\u0443\u0441",selector:" status_id",sortable:!0,cell:function(e){var t=e.is_editable?r.a.createElement("select",{ref:s,className:"w-full h-full border-b border-blue-700 bg-white"},r.a.createElement("option",{key:-1,value:"-1"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"),f.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))):r.a.createElement("div",null,f.filter((function(t){return t.id===Number(e.status_id)})).map((function(e){return e.name})));return e.is_editable&&e.status_id&&setTimeout((function(){return s.current.value=e.status_id}),200),t}},{name:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",selector:"comment",sortable:!0,cell:function(e){var t=e.is_editable?r.a.createElement("input",{ref:u,className:"w-full h-full border-b border-blue-700 bg-white"}):r.a.createElement("div",null,e.comment);return e.is_editable&&setTimeout((function(){return u.current.value=e.comment?e.comment:""}),200),t}},{name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",selector:"edit",sortable:!0,cell:function(e){return e.is_editable?r.a.createElement(v,{type:"warning",text:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){w((function(t){return t.map((function(t){return t.id===e.id&&(t.is_editable=!1,t.comment=u.current.value,t.status_id=s.current.value),t}))}))}}):r.a.createElement(v,{type:"warning",text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){w((function(t){return t.map((function(t){return t.is_editable=t.id===e.id,t}))}))}})}}],F=r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"bg-white rounded border border-blue-600 outline-none text-base p-1",placeholder:"\u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438...",value:x,onChange:function(e){return k(e.target.value)}}));return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(v,{className:"",type:"primary",text:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){t("nothing")}}),r.a.createElement(v,{className:"text-base",type:"success",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:function(){b.setListOfReport({data:h,date:c}).then((function(){return t("nothing")}))}}),r.a.createElement(v,{className:"",type:"primary",text:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430:",onClick:function(){R()}}),r.a.createElement(L.a,{className:"rounded border border-blue-700 p-1",selected:c,onChange:function(e){return o(e)},dateFormat:"dd.MM.yyyy",customInput:r.a.createElement(N,null)})),r.a.createElement(S.a,{title:"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442 \u043d\u0430 "+c.toLocaleString("ru"),columns:P,data:C,pagination:!0,contextMessage:{singular:"\u0441\u0442\u0440\u043e\u043a\u0430",plural:"\u0441\u0442\u0440\u043e\u043a",message:"\u0432\u044b\u0431\u0440\u0430\u043d\u043e"},paginationComponentOptions:{rowsPerPageText:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",rangeSeparatorText:"\u0438\u0437",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"\u0412\u0441\u0435"},actions:F,paginationPerPage:100,paginationRowsPerPageOptions:[25,50,100]}))};function F(e){return e.length>0?e.map((function(e,t){return r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/5"},t+1),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"},e.group_id__name),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"},e.rank_id__name),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"},e.name),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," ",e.comment))})):r.a.createElement("p",{className:"text-center border p-1"}," \u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")}var D=function(e){var t=e.setShowBody,n=e.headerRef,l=Object(a.useState)(new Date),c=Object(O.a)(l,2),o=c[0],s=c[1],u=Object(a.createRef)(),m=Object(a.useState)([]),d=Object(O.a)(m,2),f=d[0],p=d[1],E=Object(a.useState)([]),g=Object(O.a)(E,2),h=g[0],w=g[1],_=function(){b.getListOfReport({date:o}).then((function(e){p((function(t){return t.map((function(t){var n=e.filter((function(e){return e.userForControl_id===t.id}));return n.length>0?Object(i.a)(Object(i.a)({},t),n[0]):(delete t.comment,delete t.status_id,t)}))}))}))};Object(a.useEffect)((function(){b.getListOfPerson().then((function(e){p(e),_()})),b.getListOfCity().then(w)}),[]),Object(a.useEffect)((function(){_()}),[o]);var y=f.filter((function(e){return!e.status_id})),x=y.filter((function(e){return e.is_military})),k=y.filter((function(e){return!1===e.is_military})),S=x.filter((function(e){return e.is_woman_with_children})),C=k.filter((function(e){return e.is_woman_with_children})),R=f.filter((function(e){return!!e.status_id})),P=R.filter((function(e){return"\u041d\u0435\u0438\u043d\u0444\u0435\u043a\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u0435, \u0430\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"===e.status_id__name})),D=R.filter((function(e){return"\u041d\u0435\u0438\u043d\u0444\u0435\u043a\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u0435, \u0441\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u043d\u043e"===e.status_id__name})),M=R.filter((function(e){return"\u041f\u043d\u0435\u0432\u043c\u043e\u043d\u0438\u044f, \u0430\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"===e.status_id__name})),B=R.filter((function(e){return"\u041f\u043d\u0435\u0432\u043c\u043e\u043d\u0438\u044f, \u0441\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u043d\u043e"===e.status_id__name})),T=R.filter((function(e){return"\u0420\u0435\u0441\u043f\u0438\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0435 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u0435, \u0430\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"===e.status_id__name})),U=R.filter((function(e){return"\u0420\u0435\u0441\u043f\u0438\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0435 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u0435, \u0441\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u043d\u043e"===e.status_id__name})),I=f.filter((function(e){return"\u041a\u0430\u0440\u0430\u043d\u0442\u0438\u043d"===e.status_id__name})),A=R.filter((function(e){return"\u041a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441, \u0430\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"===e.status_id__name})),Y=R.filter((function(e){return"\u041a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441, \u0441\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u043d\u043e"===e.status_id__name}));return R=[].concat(Object(j.a)(P),Object(j.a)(D),Object(j.a)(M),Object(j.a)(B),Object(j.a)(T),Object(j.a)(U),Object(j.a)(I),Object(j.a)(A),Object(j.a)(Y)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:u},r.a.createElement(v,{className:"",type:"primary",text:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){t("nothing")}}),r.a.createElement(v,{className:"",type:"success",text:"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c",onClick:function(){u.current.classList.add("hidden"),n.current.classList.add("hidden"),window.print(),u.current.classList.remove("hidden"),n.current.classList.remove("hidden")}}),r.a.createElement(L.a,{className:"rounded border border-blue-700 p-1",selected:o,onChange:s,dateFormat:"dd.MM.yyyy",customInput:r.a.createElement(N,null)})),r.a.createElement("div",{className:"m-4"},r.a.createElement("p",{className:"text-center"},"\u0421\u041f\u0420\u0410\u0412\u041a\u0410-\u0414\u041e\u041a\u041b\u0410\u0414 ",r.a.createElement("br",null),'\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0434\u0435\u043b \u0432 \u0424\u0413\u041a\u0423 "12 \u0426\u041d\u0418\u0418" \u041c\u0438\u043d\u043e\u0431\u043e\u0440\u043e\u043d\u044b \u0420\u043e\u0441\u0441\u0438\u0438 ',r.a.createElement("br",null),"\u043d\u0430 ",o.toLocaleString("ru")),r.a.createElement("p",{className:"font-bold"},"1. \u041d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u043d\u0430 \u0441\u043b\u0443\u0436\u0431\u0435:"),r.a.createElement("p",null,"\u0412\u0441\u0435\u0433\u043e ",r.a.createElement("b",null,y.length),", \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435: ",r.a.createElement("br",null),"\u0432\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0435 - ",r.a.createElement("b",null,x.length)," \u0447\u0435\u043b., \u0438\u0437 \u043d\u0438\u0445 \u0436\u0435\u043d\u0449\u0438\u043d \u0441 \u0434\u0435\u0442\u044c\u043c\u0438 \u0434\u043e 14 \u043b\u0435\u0442 - ",S.length," \u0447\u0435\u043b. ",r.a.createElement("br",null),"\u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u0438\u0435 - ",r.a.createElement("b",null,k.length)," \u0447\u0435\u043b., \u0438\u0437 \u043d\u0438\u0445 \u0436\u0435\u043d\u0449\u0438\u043d \u0441 \u0434\u0435\u0442\u044c\u043c\u0438 \u0434\u043e 14 \u043b\u0435\u0442 - ",C.length," \u0447\u0435\u043b."),r.a.createElement("div",{className:"mt-1 text-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/3"}," \u041f\u041f\u0414"),r.a.createElement("p",{className:"border p-1 inline-block w-1/3"}," \u0412\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445"),r.a.createElement("p",{className:"border p-1 inline-block w-1/3"}," \u0413\u0440. \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430")),h.map((function(e){return r.a.createElement("div",{className:"flex"},r.a.createElement("span",{className:"border p-1 inline-block w-1/3"},e.name),r.a.createElement("span",{className:"border p-1 inline-block w-1/3"}," ",x.filter((function(t){return t.city_id===e.id})).length),r.a.createElement("span",{className:"border p-1 inline-block w-1/3"},k.filter((function(t){return t.city_id===e.id})).length))}))),r.a.createElement("p",null,r.a.createElement("b",null,"2. \u0427\u0438\u0441\u043b\u043e \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0448\u0438\u0445:"),r.a.createElement("br",null),"\u0412\u0441\u0435\u0433\u043e - ",r.a.createElement("b",null,R.length)," ",r.a.createElement("br",null),"\u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435:"),r.a.createElement("p",{className:"font-bold text-center "},"\u041d\u0435 \u041e\u0420\u0412\u0418 ",P.length+D.length," - \u0447\u0435\u043b. (",P.filter((function(e){return e.is_military})).length+P.filter((function(e){return e.is_military})).length," \u0432/\u0441\u043b,",P.filter((function(e){return!e.is_military})).length+P.filter((function(e){return!e.is_military})).length," \u0433\u043f)"),r.a.createElement("div",{className:"mt-1 text-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0412\u043e\u0438\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043d\u0438\u0446\u0430\u043b\u044b"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440"),F(D),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0410\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"),F(P)),r.a.createElement("p",{className:"font-bold text-center mt-8"},"\u041f\u043d\u0435\u0432\u043c\u043e\u043d\u0438\u044f ",M.length+B.length," - \u0447\u0435\u043b. (",M.filter((function(e){return e.is_military})).length+B.filter((function(e){return e.is_military})).length," \u0432/\u0441\u043b,",M.filter((function(e){return!e.is_military})).length+B.filter((function(e){return!e.is_military})).length," \u0433\u043f)"),r.a.createElement("div",{className:" mt-1 text-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0412\u043e\u0438\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043d\u0438\u0446\u0430\u043b\u044b"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440"),F(B),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0410\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"),F(M)),r.a.createElement("p",{className:"font-bold text-center mt-8"},"\u041e\u0441\u0442\u0440\u044b\u0435 \u0440\u0435\u0441\u043f\u0438\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0435 \u0432\u0438\u0440\u0443\u0441\u043d\u044b\u0435 \u0438\u043d\u0444\u0435\u043a\u0446\u0438\u0438 (\u043d\u0435 \u043a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441\u043d\u0430\u044f \u0438\u043d\u0444\u0435\u043a\u0446\u0438\u044f) ",U.length+T.length," - \u0447\u0435\u043b. (",U.filter((function(e){return e.is_military})).length+T.filter((function(e){return e.is_military})).length," \u0432/\u0441\u043b,",U.filter((function(e){return!e.is_military})).length+T.filter((function(e){return!e.is_military})).length," \u0433\u043f)"),r.a.createElement("div",{className:"mt-1 text-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0412\u043e\u0438\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043d\u0438\u0446\u0430\u043b\u044b"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440"),F(U),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0410\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"),F(T)),r.a.createElement("p",{className:"font-bold text-center mt-8"},"\u0427\u0438\u0441\u043b\u043e \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0445\u0441\u044f \u043d\u0430 \u043a\u0430\u0440\u0430\u043d\u0442\u0438\u043d\u0435 (\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f) ",I.length," - \u0447\u0435\u043b. (",I.filter((function(e){return e.is_military})).length," \u0432/\u0441\u043b,",I.filter((function(e){return!e.is_military})).length," \u0433\u043f)"),r.a.createElement("div",{className:"mt-1 text-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0412\u043e\u0438\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043d\u0438\u0446\u0430\u043b\u044b"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),F(I)),r.a.createElement("p",{className:"font-bold text-center mt-8"},"\u041a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441\u043d\u0430\u044f \u0438\u043d\u0444\u0435\u043a\u0446\u0438\u044f - ",A.length+Y.length," \u0447\u0435\u043b. (",A.filter((function(e){return e.is_military})).length+Y.filter((function(e){return e.is_military})).length," \u0432/\u0441\u043b,",A.filter((function(e){return!e.is_military})).length+Y.filter((function(e){return!e.is_military})).length," \u0433\u043f)"),r.a.createElement("div",{className:"mt-1 text-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0412\u043e\u0438\u0441\u043a\u043e\u0435 \u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043d\u0438\u0446\u0430\u043b\u044b"),r.a.createElement("p",{className:"border p-1 inline-block w-1/5"}," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440"),F(Y),r.a.createElement("p",{className:"font-bold text-center border p-1"},"\u0410\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e"),F(A))))};var M=function(e){var t=e.headerRef,n=e.setShowBody,l=new Date;l.setDate(l.getDate()+1);var c=new Date(l),o=Object(a.useState)(c),s=Object(O.a)(o,2),u=s[0],m=s[1];console.log(u);var d=Object(a.createRef)(),f=Object(a.useState)([]),p=Object(O.a)(f,2),E=p[0],g=p[1],h=Object(a.useState)([]),w=Object(O.a)(h,2),_=w[0],y=w[1],x=function(){b.getListOfReport({date:u}).then((function(e){g((function(t){return t.map((function(t){var n=e.filter((function(e){return e.userForControl_id===t.id}));return n.length>0?Object(i.a)(Object(i.a)({},t),n[0]):(delete t.comment,delete t.status_id,t)}))}))}))};Object(a.useEffect)((function(){b.getListOfGroup().then(y),b.getListOfPerson().then((function(e){g(e),x()}))}),[]),Object(a.useEffect)((function(){x()}),[u]);var j=E.filter((function(e){return!e.status_id||"\u041d\u0430\u0440\u044f\u0434"===e.status_id__name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:d},r.a.createElement(v,{className:"",type:"primary",text:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){n("nothing")}}),r.a.createElement(v,{className:"",type:"success",text:"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c",onClick:function(){d.current.classList.add("hidden"),t.current.classList.add("hidden"),window.print(),d.current.classList.remove("hidden"),t.current.classList.remove("hidden")}}),r.a.createElement(L.a,{className:"rounded border border-blue-700 p-1",selected:u,onChange:function(e){return m(e)},dateFormat:"dd.MM.yyyy",customInput:r.a.createElement(N,null)})),r.a.createElement("p",{className:"font-bold m-2 text-center text-2xl"},"\u0421\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0434 \u043d\u0430 ",u.toLocaleDateString("ru")),_.map((function(e){var t=j.filter((function(t){return t.group_id===e.id})),n=t.filter((function(e,t){return t%2===1})),a=t.filter((function(e,t){return t%2===0}));return r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement("div",{style:{pageBreakAfter:"always"}},r.a.createElement("p",{className:"mt-2 text-center font-semibold text-2xl border p-1"},e.name),r.a.createElement("div",{className:"text-center text-xs"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/12"},"\u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-2/12"},"\u0417\u0432\u0430\u043d\u0438\u0435 \u0438 \u0424\u0418\u041e"),r.a.createElement("p",{className:"border p-1 inline-block w-3/12"},"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435 (\u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0434\u0430)"),r.a.createElement("p",{className:"border p-1 inline-block w-1/12"},"\u2116"),r.a.createElement("p",{className:"border p-1 inline-block w-2/12"},"\u0417\u0432\u0430\u043d\u0438\u0435 \u0438 \u0424\u0418\u041e"),r.a.createElement("p",{className:"border p-1 inline-block w-3/12"},"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435 (\u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0434\u0430)")),a.map((function(e,t){var l=n[t];return r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"border p-1 inline-block w-1/12"},t+1),r.a.createElement("p",{className:"border p-1 inline-block w-2/12 text-left"},e.rank_id__name?e.rank_id__name:"\u0433\u043f"," ",e.name),r.a.createElement("p",{className:"border p-1 inline-block w-3/12 text-left"}," ",e.comment),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"border p-1 inline-block w-1/12"},a.length+t+1),r.a.createElement("p",{className:"border p-1 inline-block w-2/12 text-left"},l.rank_id__name?l.rank_id__name:"\u0433\u043f"," ",l.name),r.a.createElement("p",{className:"border p-1 inline-block w-3/12 text-left"}," ",l.comment)))})))):r.a.createElement(r.a.Fragment,null))})))};function B(){return Object(d.usePromiseTracker)().promiseInProgress&&r.a.createElement("div",{id:"loader",className:"absolute h-screen w-screen bg-gray-400 bg-opacity-25 text-center flex top-0"},r.a.createElement("p",{className:"m-auto bg-blue-600 text-white border rounded animate-pulse p-4"},"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."))}var T=n(79),U=n.n(T),I=(n(161),n(80));var A=function(e){var t=e.show,n=e.showModal,a=e.children;return r.a.createElement(I.a,{in:t,timeout:200,unmountOnExit:!0,classNames:"myModalAnimation"},r.a.createElement("div",{className:"fixed z-10 inset-0 overflow-y-auto"},r.a.createElement("div",{className:"fixed inset-0 transition-opacity"},r.a.createElement("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:function(){return n(!1)}})),r.a.createElement("div",{className:"flex justify-center py-12 px-8"},r.a.createElement("div",{className:"rounded shadow-xl transform transition-all my-8 sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},r.a.createElement("div",{className:"bg-white rounded p-4"},a)))))};function Y(e){var t=e.setShowBody,n=new Date,l=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n.getFullYear(),n.getMonth()+1,0),o=Object(a.useState)(l),s=Object(O.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)(c),f=Object(O.a)(d,2),p=f[0],E=f[1],g=Object(a.useState)(n.getMonth()),h=Object(O.a)(g,2),w=h[0],N=h[1],_=Object(a.useState)([]),y=Object(O.a)(_,2),x=y[0],k=y[1],S=Object(a.useState)([]),C=Object(O.a)(S,2),R=C[0],L=C[1],P=Object(a.useState)([]),F=Object(O.a)(P,2),D=F[0],M=F[1],B=Object(a.useState)([]),T=Object(O.a)(B,2),I=T[0],Y=T[1],G=Object(a.useState)(!1),J=Object(O.a)(G,2),X=J[0],q=J[1],W=Object(a.useState)({}),$=Object(O.a)(W,2),z=$[0],H=$[1],K=Object(a.useState)({}),Q=Object(O.a)(K,2),V=Q[0],Z=Q[1];return Object(a.useEffect)((function(){b.getListOfPerson().then(L),b.getListOfStatus().then(Y)}),[]),Object(a.useEffect)((function(){b.getListOfReport({date_begin:u,date_end:p}).then((function(e){M(e)}));for(var e=[],t=new Date(u);p>=t;)e.push(new Date(t)),t.setDate(t.getDate()+1);k(e)}),[u,p]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(v,{className:"",type:"primary",text:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043b/\u0441",onClick:function(){t("listOfPerson")}}),r.a.createElement(v,{className:"",type:"primary",text:"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442",onClick:function(){t("makeReport")}}),r.a.createElement("select",{className:"rounded border border-blue-700 p-1 bg-white",value:w,onChange:function(e){var t=new Date;t.setMonth(e.target.value),m(new Date(t.getFullYear(),t.getMonth(),1)),E(new Date(t.getFullYear(),t.getMonth()+1,0)),N(e.target.value)}},r.a.createElement("option",{value:0},"\u042f\u043d\u0432\u0430\u0440\u044c"),r.a.createElement("option",{value:1},"\u0424\u0435\u0432\u0440\u0430\u043b\u044c"),r.a.createElement("option",{value:2},"\u041c\u0430\u0440\u0442"),r.a.createElement("option",{value:3},"\u0410\u043f\u0440\u0435\u043b\u044c"),r.a.createElement("option",{value:4},"\u041c\u0430\u0439"),r.a.createElement("option",{value:5},"\u0418\u044e\u043d\u044c"),r.a.createElement("option",{value:6},"\u0418\u044e\u043b\u044c"),r.a.createElement("option",{value:7},"\u0410\u0432\u0433\u0443\u0441\u0442"),r.a.createElement("option",{value:8},"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c"),r.a.createElement("option",{value:9},"\u041e\u043a\u0442\u044f\u0431\u0440\u044c"),r.a.createElement("option",{value:10},"\u041d\u043e\u044f\u0431\u0440\u044c"),r.a.createElement("option",{value:11},"\u0434\u0435\u043a\u0430\u0431\u0440\u044c")),r.a.createElement(v,{className:"",type:"warning",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:function(){b.setListOfReport({data:D,date_begin:u,date_end:p})}}),r.a.createElement("div",{className:"float-right"},r.a.createElement(v,{className:"",type:"warning",text:"\u0421\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0434",onClick:function(){t("listForEntering")}}),r.a.createElement(v,{className:"",type:"warning",text:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u043e\u043a\u043b\u0430\u0434",onClick:function(){t("report")}}))),r.a.createElement("div",null,r.a.createElement("div",{className:"m-2 overflow-x-auto"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"w-56 p-1 border",style:{minWidth:100}},"\u0424\u0418\u041e"),x.map((function(e){return r.a.createElement("p",{className:"p-1 border w-12 inline-block"},r.a.createElement(U.a,{format:"DD"},e))}))),R.map((function(e){var t=D.filter((function(t){return t.userForControl_id===e.id}));return r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"w-56  p-1 border cursor-pointer"},e.rank_id__name+" "+e.name),x.map((function(n){var a=t.filter((function(e){return Number(e.date)===n.getDate()&&!!e.status_id}));return r.a.createElement("p",{className:"p-1 border w-12 text-center align-middle text-red-500 cursor-pointer",onClick:function(){!function(e,t,n){H(e),Z(t.length>0?t[0]:{userForControl_id:e.id,date:n}),q(!0)}(e,a,n.getDate())}},a.length>0?"+":"")})))})))),r.a.createElement(A,{show:X,showModal:q},r.a.createElement("div",{className:"border-b m-1 mb-4 p-2 flex"},r.a.createElement("span",{className:"my-auto"},z.name," (",V.date," \u0447\u0438\u0441\u043b\u043e)"),r.a.createElement("span",{className:"ml-auto",onClick:function(){return q(!1)}},"x")),r.a.createElement("label",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("select",{className:"my-4 w-full h-full border-b border-blue-700 bg-white",value:V.status_id,onChange:function(e){Z(Object(i.a)(Object(i.a)({},V),{},{status_id:Number(e.target.value)}))}},r.a.createElement("option",{key:-1,value:""},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"),I.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("label",null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("textarea",{className:"my-4 p-1 w-full border border-blue-700 bg-white rounded outline-none",placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",onChange:function(e){Z(Object(i.a)(Object(i.a)({},V),{},{comment:e.target.value}))}},V.comment),r.a.createElement(v,{className:"my-4 mx-0 w-full",type:"primary",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:function(){console.log(V),M((function(e){var t=!1,n=Object(j.a)(e.map((function(e){return e.userForControl_id===V.userForControl_id&&e.date===V.date&&(e.status_id=V.status_id,e.comment=V.comment,t=!0),e})));return!t&&n.push(V),n})),q(!1)}})))}var G=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(a.useState)("nothing"),l=Object(O.a)(n,2),c=l[0],i=l[1],o=Object(a.createRef)(),s=r.a.createElement(Y,{setShowBody:i}),u=r.a.createElement("div",null,r.a.createElement(v,{className:"",type:"primary",text:"\u0421\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0434",onClick:function(){i("listForEntering")}}),r.a.createElement(v,{className:"",type:"primary",text:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u043e\u043a\u043b\u0430\u0434",onClick:function(){i("report")}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{headerRef:o}),r.a.createElement("div",{className:"px-2"},t.is_control?function(){switch(c){case"listForEntering":return r.a.createElement(M,{headerRef:o,setShowBody:i});case"report":return r.a.createElement(D,{headerRef:o,setShowBody:i});default:return u}}():function(){switch(c){case"listOfPerson":return r.a.createElement(C,{setShowBody:i});case"makeReport":return r.a.createElement(P,{setShowBody:i});case"listForEntering":return r.a.createElement(M,{headerRef:o,setShowBody:i});case"report":return r.a.createElement(D,{headerRef:o,setShowBody:i});default:return s}}()),r.a.createElement(B,null))}));var J=Object(o.b)((function(e){return{user:e.user}}),(function(e){return{initUser:function(t){return e(_(t))}}}))((function(e){var t=e.user,n=e.initUser;return Object(a.useEffect)((function(){b.initUser().then((function(e){n(Object(i.a)(Object(i.a)({},e),{},{is_initial:!0}))})).catch((function(){n(Object(i.a)(Object(i.a)({},t),{},{is_initial:!0}))}))}),[]),t.is_initial?t.username?r.a.createElement(G,null):r.a.createElement(y,null):r.a.createElement("span",null,"Loading")})),X=(n(162),n(81)),q=n(25),W={username:"",is_initial:!1};var $=Object(q.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"InitUser":return Object(i.a)(Object(i.a)({},e),t.user);default:return e}}}),z=Object(q.c)($);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:z},r.a.createElement(X.a,null,r.a.createElement(J,null)))),document.getElementById("root"))},83:function(e,t,n){e.exports=n(164)},88:function(e,t,n){}},[[83,1,2]]]);
//# sourceMappingURL=main.550a61b3.chunk.js.map